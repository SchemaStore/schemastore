{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://json.schemastore.org/docs-mcp-manifest.json",
  "additionalProperties": false,
  "description": "Docs MCP configuration file (.docs-mcp.json) that controls how documentation is chunked, tagged, and indexed for search.",
  "properties": {
    "metadata": {
      "additionalProperties": {
        "type": "string"
      },
      "description": "Key-value pairs attached to every chunk produced from this directory tree. Each key becomes a filterable taxonomy dimension exposed as an enum parameter on the search tool.",
      "examples": [
        {
          "language": "typescript",
          "scope": "sdk-specific"
        }
      ],
      "propertyNames": {
        "type": "string"
      },
      "type": "object"
    },
    "overrides": {
      "description": "Per-file-pattern overrides for chunking strategy and metadata. Evaluated top-to-bottom; last match wins.",
      "items": {
        "additionalProperties": false,
        "description": "Overrides the default chunking strategy and/or metadata for files matching a glob pattern. Within the overrides array, later matches take precedence.",
        "properties": {
          "metadata": {
            "additionalProperties": {
              "type": "string"
            },
            "description": "Metadata key-value pairs merged with root metadata for matching files (override keys win). Each key becomes a filterable taxonomy dimension in the search API.",
            "examples": [
              {
                "scope": "global-guide"
              }
            ],
            "propertyNames": {
              "type": "string"
            },
            "type": "object"
          },
          "pattern": {
            "description": "A glob pattern matched against file paths relative to the directory containing the manifest.",
            "examples": ["guides/advanced/*.md"],
            "minLength": 1,
            "type": "string"
          },
          "strategy": {
            "additionalProperties": false,
            "description": "Chunking strategy override for files matching this pattern. Replaces the root strategy entirely.",
            "properties": {
              "chunk_by": {
                "description": "The heading level at which to split markdown into chunks. 'h1' splits at top-level headings, 'h2'/'h3' at progressively finer granularity, and 'file' treats the entire file as one chunk.",
                "enum": ["h1", "h2", "h3", "file"],
                "examples": ["h2"],
                "type": "string"
              },
              "max_chunk_size": {
                "description": "Maximum chunk size in characters. Chunks exceeding this limit are split at the next available boundary to prevent oversized results.",
                "examples": [8000],
                "minimum": 1,
                "maximum": 9007199254740991,
                "type": "integer"
              },
              "min_chunk_size": {
                "description": "Minimum chunk size in characters. Trailing chunks smaller than this are merged into the preceding chunk to avoid fragments.",
                "examples": [200],
                "minimum": 1,
                "maximum": 9007199254740991,
                "type": "integer"
              }
            },
            "required": ["chunk_by"],
            "type": "object"
          }
        },
        "required": ["pattern"],
        "type": "object"
      },
      "type": "array"
    },
    "strategy": {
      "additionalProperties": false,
      "description": "Default chunking strategy applied to all files in this directory tree unless overridden by a more specific rule.",
      "properties": {
        "chunk_by": {
          "description": "The heading level at which to split markdown into chunks. 'h1' splits at top-level headings, 'h2'/'h3' at progressively finer granularity, and 'file' treats the entire file as one chunk.",
          "enum": ["h1", "h2", "h3", "file"],
          "examples": ["h2"],
          "type": "string"
        },
        "max_chunk_size": {
          "description": "Maximum chunk size in characters. Chunks exceeding this limit are split at the next available boundary to prevent oversized results.",
          "examples": [8000],
          "minimum": 1,
          "maximum": 9007199254740991,
          "type": "integer"
        },
        "min_chunk_size": {
          "description": "Minimum chunk size in characters. Trailing chunks smaller than this are merged into the preceding chunk to avoid fragments.",
          "examples": [200],
          "minimum": 1,
          "maximum": 9007199254740991,
          "type": "integer"
        }
      },
      "required": ["chunk_by"],
      "type": "object"
    },
    "version": {
      "const": "1",
      "description": "Schema version. Must be '1'.",
      "examples": ["1"],
      "type": "string"
    }
  },
  "required": ["version"],
  "type": "object"
}
