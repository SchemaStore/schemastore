{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "SurveyJS Library json schema",
    "type": "object",
    "properties": {
        "pages": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/page"
            }
        },
        "triggers": {
            "type": "array",
            "items": {
                "anyOf": [
                    {
                        "$ref": "#/definitions/visibletrigger"
                    },
                    {
                        "$ref": "#/definitions/completetrigger"
                    },
                    {
                        "$ref": "#/definitions/setvaluetrigger"
                    },
                    {
                        "$ref": "#/definitions/skiptrigger"
                    },
                    {
                        "$ref": "#/definitions/runexpressiontrigger"
                    },
                    {
                        "$ref": "#/definitions/copyvaluetrigger"
                    }
                ]
            }
        },
        "calculatedValues": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/calculatedvalue"
            }
        },
        "surveyId": {
            "type": "string"
        },
        "surveyPostId": {
            "type": "string"
        },
        "cookieName": {
            "type": "string"
        },
        "sendResultOnPageNext": {
            "type": "boolean"
        },
        "surveyShowDataSaving": {
            "type": "boolean"
        },
        "focusFirstQuestionAutomatic": {
            "type": "boolean"
        },
        "focusOnFirstError": {
            "type": "boolean"
        },
        "showNavigationButtons": {
            "type": [
                "string",
                "number",
                "boolean"
            ],
            "enum": [
                "none",
                "top",
                "bottom",
                "both"
            ]
        },
        "showPrevButton": {
            "type": "boolean"
        },
        "showTitle": {
            "type": "boolean"
        },
        "showPageTitles": {
            "type": "boolean"
        },
        "showCompletedPage": {
            "type": "boolean"
        },
        "requiredText": {
            "type": "string"
        },
        "questionStartIndex": {
            "type": "string"
        },
        "storeOthersAsComment": {
            "type": "boolean"
        },
        "maxTextLength": {
            "type": "number"
        },
        "maxOthersLength": {
            "type": "number"
        },
        "goNextPageAutomatic": {
            "type": [
                "boolean",
                "string"
            ]
        },
        "checkErrorsMode": {
            "type": "string",
            "enum": [
                "onNextPage",
                "onValueChanged"
            ]
        },
        "clearInvisibleValues": {
            "type": [
                "string",
                "number",
                "boolean"
            ],
            "enum": [
                "none",
                "onComplete",
                "onHidden"
            ]
        },
        "locale": {
            "type": "string",
            "enum": [
                "",
                "ar",
                "bg",
                "ca",
                "cz",
                "da",
                "de",
                "en",
                "es",
                "fa",
                "fi",
                "fr",
                "gr",
                "he",
                "hu",
                "id",
                "is",
                "it",
                "ja",
                "ka",
                "ko",
                "lt",
                "lv",
                "nl",
                "no",
                "pl",
                "pt",
                "ro",
                "ru",
                "sv",
                "tr",
                "ua",
                "zh-cn",
                "zh-tw"
            ]
        },
        "title": {
            "anyOf": [
                { "type": "string" },
                { "$ref": "#/definitions/localizablestring" }
            ]
        },
        "description": {
            "anyOf": [
                { "type": "string" },
                { "$ref": "#/definitions/localizablestring" }
            ]
        },
        "completedHtml": {
            "type": "string"
        },
        "completedHtmlOnCondition": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/htmlconditionitem"
            }
        },
        "completedBeforeHtml": {
            "type": "string"
        },
        "loadingHtml": {
            "type": "string"
        },
        "startSurveyText": {
            "type": "string"
        },
        "pagePrevText": {
            "type": "string"
        },
        "pageNextText": {
            "type": "string"
        },
        "completeText": {
            "type": "string"
        },
        "questionTitleTemplate": {
            "type": "string"
        },
        "showPageNumbers": {
            "type": "boolean"
        },
        "showQuestionNumbers": {
            "type": "string",
            "enum": [
                "on",
                "onPage",
                "off"
            ]
        },
        "showProgressBar": {
            "type": "string",
            "enum": [
                "off",
                "top",
                "bottom",
                "both"
            ]
        },
        "progressBarType": {
            "type": "string",
            "enum": [
                "pages",
                "questions",
                "correctQuestions"
            ]
        },
        "questionTitleLocation": {
            "type": "string",
            "enum": [
                "top",
                "bottom",
                "left"
            ]
        },
        "questionErrorLocation": {
            "type": "string",
            "enum": [
                "top",
                "bottom"
            ]
        },
        "questionDescriptionLocation": {
            "type": "string",
            "enum": [
                "underInput",
                "underTitle"
            ]
        },
        "mode": {
            "type": "string",
            "enum": [
                "edit",
                "display"
            ]
        },
        "questionsOrder": {
            "type": "string",
            "enum": [
                "initial",
                "random"
            ]
        },
        "isSinglePage": {
            "type": "boolean"
        },
        "firstPageIsStarted": {
            "type": "boolean"
        },
        "showTimerPanel": {
            "type": "string",
            "enum": [
                "none",
                "top",
                "bottom"
            ]
        },
        "showTimerPanelMode": {
            "type": "string",
            "enum": [
                "all",
                "page",
                "survey"
            ]
        },
        "maxTimeToFinish": {
            "type": "number"
        },
        "maxTimeToFinishPage": {
            "type": "number"
        }
    },
    "definitions": {
        "page": {
            "$id": "#page",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/panelbase"
                },
                {
                    "properties": {
                        "navigationButtonsVisibility": {
                            "type": "string",
                            "enum": [
                                "inherit",
                                "show",
                                "hide"
                            ]
                        },
                        "questionsOrder": {
                            "type": "string",
                            "enum": [
                                "default",
                                "initial",
                                "random"
                            ]
                        },
                        "maxTimeToFinish": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "elementbase": {
            "$id": "#elementbase",
            "type": "object",
            "x-abstract": true,
            "discriminator": {
                "propertyName": "type",
                "mapping": {
                    "matrixdropdown": "#/definitions/matrixdropdown",
                    "matrixdynamic": "#/definitions/matrixdynamic",
                    "matrix": "#/definitions/matrix",
                    "checkbox": "#/definitions/checkbox",
                    "radiogroup": "#/definitions/radiogroup",
                    "imagepicker": "#/definitions/imagepicker",
                    "dropdown": "#/definitions/dropdown",
                    "expression": "#/definitions/expression",
                    "text": "#/definitions/text",
                    "multipletext": "#/definitions/multipletext",
                    "paneldynamic": "#/definitions/paneldynamic",
                    "html": "#/definitions/html",
                    "empty": "#/definitions/empty",
                    "comment": "#/definitions/comment",
                    "file": "#/definitions/file",
                    "rating": "#/definitions/rating",
                    "boolean": "#/definitions/boolean",
                    "page": "#/definitions/page",
                    "flowpanel": "#/definitions/flowpanel",
                    "panel": "#/definitions/panel"
                }
            },
            "properties": {
                "name": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "panelbase": {
            "$id": "#panelbase",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/elementbase"
                },
                {
                    "x-abstract": true,
                    "properties": {
                        "title": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "description": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "visibleIf": {
                            "type": "string"
                        },
                        "elements": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    {
                                        "$ref": "#/definitions/matrixdropdown"
                                    },
                                    {
                                        "$ref": "#/definitions/matrixdynamic"
                                    },
                                    {
                                        "$ref": "#/definitions/matrix"
                                    },
                                    {
                                        "$ref": "#/definitions/checkbox"
                                    },
                                    {
                                        "$ref": "#/definitions/radiogroup"
                                    },
                                    {
                                        "$ref": "#/definitions/imagepicker"
                                    },
                                    {
                                        "$ref": "#/definitions/dropdown"
                                    },
                                    {
                                        "$ref": "#/definitions/expression"
                                    },
                                    {
                                        "$ref": "#/definitions/text"
                                    },
                                    {
                                        "$ref": "#/definitions/multipletext"
                                    },
                                    {
                                        "$ref": "#/definitions/paneldynamic"
                                    },
                                    {
                                        "$ref": "#/definitions/html"
                                    },
                                    {
                                        "$ref": "#/definitions/empty"
                                    },
                                    {
                                        "$ref": "#/definitions/comment"
                                    },
                                    {
                                        "$ref": "#/definitions/file"
                                    },
                                    {
                                        "$ref": "#/definitions/rating"
                                    },
                                    {
                                        "$ref": "#/definitions/boolean"
                                    },
                                    {
                                        "$ref": "#/definitions/page"
                                    },
                                    {
                                        "$ref": "#/definitions/flowpanel"
                                    }
                                ]
                            }
                        },
                        "questionTitleLocation": {
                            "type": "string",
                            "enum": [
                                "default",
                                "top",
                                "bottom",
                                "left",
                                "hidden"
                            ]
                        },
                        "visible": {
                            "type": "boolean"
                        },
                        "enableIf": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "question": {
            "$id": "#question",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/elementbase"
                },
                {
                    "x-abstract": true,
                    "properties": {
                        "page": {
                            "$ref": "#/definitions/page"
                        },
                        "visible": {
                            "type": "boolean"
                        },
                        "useDisplayValuesInTitle": {
                            "type": "boolean"
                        },
                        "visibleIf": {
                            "type": "string"
                        },
                        "titleLocation": {
                            "type": "string",
                            "enum": [
                                "default",
                                "top",
                                "bottom",
                                "left",
                                "hidden"
                            ]
                        },
                        "title": {
                            "anyOf": [
                                { "$ref": "#/definitions/localizablestring" },
                                { "type": "string" }
                            ]
                        },
                        "description": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "descriptionLocation": {
                            "type": "string",
                            "enum": [
                                "default",
                                "underInput",
                                "underTitle"
                            ]
                        },
                        "requiredErrorText": {
                            "type": "string"
                        },
                        "startWithNewLine": {
                            "type": "boolean"
                        },
                        "width": {
                            "type": "string"
                        },
                        "indent": {
                            "type": "number",
                            "enum": [
                                0,
                                1,
                                2,
                                3
                            ]
                        },
                        "isRequired": {
                            "type": "boolean"
                        },
                        "requiredIf": {
                            "type": "string"
                        },
                        "enableIf": {
                            "type": "string"
                        },
                        "defaultValue": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ]
                        },
                        "correctAnswer": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ]
                        },
                        "validators": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    {
                                        "$ref": "#/definitions/numericvalidator"
                                    },
                                    {
                                        "$ref": "#/definitions/textvalidator"
                                    },
                                    {
                                        "$ref": "#/definitions/regexvalidator"
                                    },
                                    {
                                        "$ref": "#/definitions/emailvalidator"
                                    },
                                    {
                                        "$ref": "#/definitions/expressionvalidator"
                                    },
                                    {
                                        "$ref": "#/definitions/answercountvalidator"
                                    }

                                ]
                            }
                        }
                    }
                }
            ]

        },
        "validatorbase": {
            "$id": "#validatorbase",
            "type": "object",
            "x-abstract": true,
            "discriminator": {
                "propertyName": "type",
                "mapping": {
                    "numericvalidator": "#/definitions/numericvalidator",
                    "textvalidator": "#/definitions/textvalidator",
                    "regexvalidator": "#/definitions/regexvalidator",
                    "emailvalidator": "#/definitions/emailvalidator",
                    "expressionvalidator": "#/definitions/expressionvalidator",
                    "answercountvalidator": "#/definitions/answercountvalidator"
                }
            },
            "required": [
                "type"
            ],
            "properties": {
                "type": {
                    "type": "string"
                }
            }
        },
        "numericvalidator": {
            "$id": "#numericvalidator",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/validatorbase"
                },
                {
                    "properties": {
                        "minValue": {
                            "type": "number"
                        },
                        "maxValue": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "textvalidator": {
            "$id": "#textvalidator",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/validatorbase"
                },
                {
                    "properties": {
                        "minLength": {
                            "type": "number"
                        },
                        "maxLength": {
                            "type": "number"
                        },
                        "allowDigits": {
                            "type": "boolean"
                        }
                    }
                }
            ]
        },
        "answercountvalidator": {
            "$id": "#answercountvalidator",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/validatorbase"
                },
                {
                    "properties": {
                        "minCount": {
                            "type": "number"
                        },
                        "maxCount": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "regexvalidator": {
            "$id": "#regexvalidator",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/validatorbase"
                },
                {
                    "properties": {
                        "regex": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "emailvalidator": {
            "$id": "#emailvalidator",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/validatorbase"
                }
            ]
        },
        "expressionvalidator": {
            "$id": "#expressionvalidator",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/validatorbase"
                },
                {
                    "properties": {
                        "expression": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "matrixbase": {
            "$id": "#matrixbase",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "x-abstract": true,
                    "properties": {
                        "showHeader": {
                            "type": "boolean"
                        },
                        "rowsVisibleIf": {
                            "type": "string"
                        },
                        "columnsVisibleIf": {
                            "type": "string"
                        },
                        "rows": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "$ref": "#/definitions/itemvalue"
                                    }
                                ]
                            }
                        },
                        "columns": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "$ref": "#/definitions/itemvalue"
                                    }
                                ]
                            }
                        }
                    }
                }
            ]
        },
        "matrixdropdownbase": {
            "$id": "#matrixdropdownbase",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/matrixbase"
                },
                {
                    "x-abstract": true, 
                    "properties": {
                        "columnLayout": {
                            "type": "string",
                            "enum": [
                                "horizontal",
                                "vertical"
                            ]
                        },
                        "cellType": {
                            "type": "string",
                            "enum": [
                                "dropdown",
                                "checkbox",
                                "radiogroup",
                                "text",
                                "comment",
                                "boolean",
                                "expression"
                            ]
                        },
                        "columnColCount": {
                            "type": "number",
                            "enum": [
                                0,
                                1,
                                2,
                                3,
                                4
                            ]
                        },
                        "columnMinWidth": {
                            "type": "string"
                        },
                        "horizontalScroll": {
                            "type": "boolean"
                        },
                        "choices": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "$ref": "#/definitions/itemvalue"
                                    }
                                ]
                            }
                        },
                        "optionsCaption": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "matrixdropdown": {
            "$id": "#matrixdropdown",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/matrixdropdownbase"
                },
                {
                    "properties": {
                        "totalText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        }
                    }
                }
            ]
        },
        "matrixdynamic": {
            "$id": "#matrixdynamic",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/matrixdropdownbase"
                },
                {
                    "properties": {
                        "confirmDelete": {
                            "type": "boolean"
                        },
                        "keyName": {
                            "type": "string"
                        },
                        "defaultRowValue": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ]
                        },
                        "defaultValueFromLastRow": {
                            "type": "boolean"
                        },
                        "rowCount": {
                            "type": "number"
                        },
                        "minRowCount": {
                            "type": "number"
                        },
                        "maxRowCount": {
                            "type": "number"
                        },
                        "confirmDeleteText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "keyDuplicationError": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "addRowText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "addRowLocation": {
                            "type": "string",
                            "enum": [
                                "default",
                                "top",
                                "bottom",
                                "topBottom"
                            ]
                        },
                        "removeRowText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        }
                    }
                }
            ]
        },
        "matrix": {
            "$id": "#matrix",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/matrixbase"
                },
                {
                    "properties": {
                        "isAllRowRequired": {
                            "type": "boolean"
                        },
                        "rowsOrder": {
                            "type": "string",
                            "enum": [
                                "initial",
                                "random"
                            ]
                        }
                    }
                }
            ]
        },
        "selectbase": {
            "$id": "#selectbase",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "x-abstract": true,
                    "properties": {
                        "choicesByUrl": {
                            "$ref": "#/definitions/choicesByUrl"
                        },
                        "choicesVisibleIf": {
                            "type": "string"
                        },
                        "choicesEnableIf": {
                            "type": "string"
                        },
                        "choices": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "$ref": "#/definitions/itemvalue"
                                    }
                                ]
                            }
                        },
                        "hideIfChoicesEmpty": {
                            "type": "boolean"
                        },
                        "storeOthersAsComment": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ],
                            "enum": [
                                "default",
                                true,
                                false
                            ]
                        },
                        "choicesOrder": {
                            "type": "string",
                            "enum": [
                                "none",
                                "asc",
                                "desc",
                                "random"
                            ]
                        },
                        "hasOther": {
                            "type": "boolean"
                        },
                        "otherText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "otherPlaceHolder": {
                            "type": "string"
                        },
                        "otherErrorText": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "choicesByUrl": {
            "$id": "#choicesByUrl",
            "type": "object",
            "properties": {
                "url": {
                    "type": "string"
                },
                "path": {
                    "type": "string"
                },
                "valueName": {
                    "type": "string"
                },
                "titleName": {
                    "type": "string"
                },
                "allowEmptyResponse": {
                    "type": "boolean"
                }
            }
        },
        "calculatedvalue": {
            "$id": "#calculatedvalue",
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "includeIntoResult": {
                    "type": "boolean"
                },
                "expression": {
                    "type": "string"
                }
            }
        },
        "htmlconditionitem": {
            "$id": "#htmlconditionitem",
            "type": "object",
            "properties": {
                "expression": {
                    "type": "string"
                },
                "html": {
                    "type": "string"
                }
            }
        },
        "triggerbase": {
            "$id": "#triggerbase",
            "type": "object"
        },
        "visibletrigger": {
            "$id": "#visibletrigger",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/triggerbase"
                }
            ]
        },
        "completetrigger": {
            "$id": "#completetrigger",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/triggerbase"
                }
            ]
        },
        "setvaluetrigger": {
            "$id": "#setvaluetrigger",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/triggerbase"
                },
                {
                    "properties": {
                        "setToName": {
                            "type": "string"
                        },
                        "setValue": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ]
                        },
                        "isVariable": {
                            "type": "boolean"
                        }
                    }
                }
            ]
        },
        "skiptrigger": {
            "$id": "#skiptrigger",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/triggerbase"
                },
                {
                    "properties": {
                        "gotoName": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "runexpressiontrigger": {
            "$id": "#runexpressiontrigger",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/triggerbase"
                },
                {
                    "properties": {
                        "setToName": {
                            "type": "string"
                        },
                        "runExpression": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ]
                        }
                    }
                }
            ]
        },
        "copyvaluetrigger": {
            "$id": "#copyvaluetrigger",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/triggerbase"
                },
                {
                    "properties": {
                        "setToName": {
                            "type": "string"
                        },
                        "fromName": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ]
                        }
                    }
                }
            ]
        },
        "checkbox": {
            "$id": "#checkbox",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/selectbase"
                },
                {
                    "properties": {
                        "noneText": {
                            "type": "string"
                        },
                        "selectAllText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "hasSelectAll": {
                            "type": "boolean"
                        },
                        "hasNone": {
                            "type": "boolean"
                        }
                    }
                }
            ]
        },
        "radiogroup": {
            "$id": "#radiogroup",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/selectbase"
                },
                {
                    "properties": {
                        "showClearButton": {
                            "type": "boolean"
                        }
                    }
                }
            ]
        },
        "imagepicker": {
            "$id": "#imagepicker",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/selectbase"
                },
                {
                    "properties": {
                        "multiSelect": {
                            "type": "boolean"
                        },
                        "showLabel": {
                            "type": "boolean"
                        },
                        "imageHeight": {
                            "type": "string"
                        },
                        "imageWidth": {
                            "type": "string"
                        },
                        "imageFit": {
                            "type": "string",
                            "enum": [
                                "none",
                                "contain",
                                "cover",
                                "fill"
                            ]
                        },
                        "contentMode": {
                            "type": "string",
                            "enum": [
                                "image",
                                "video"
                            ]
                        }
                    }
                }
            ]

        },
        "dropdown": {
            "$id": "#dropdown",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/selectbase"
                },
                {
                    "properties": {
                        "showOptionsCaption": {
                            "type": "boolean"
                        },
                        "optionsCaption": {
                            "type": "string"
                        },
                        "choicesMin": {
                            "type": "number"
                        },
                        "choicesMax": {
                            "type": "number"
                        },
                        "choicesStep": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "expression": {
            "$id": "#expression",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "properties": {
                        "format": {
                            "type": "string"
                        },
                        "expression": {
                            "type": "string"
                        },
                        "maximumFractionDigits": {
                            "type": "number"
                        },
                        "minimumFractionDigits": {
                            "type": "number"
                        },
                        "displayStyle": {
                            "type": "string",
                            "enum": [
                                "none",
                                "decimal",
                                "currency",
                                "percent"
                            ]
                        },
                        "currency": {
                            "type": "string",
                            "enum": [
                                "AED",
                                "AFN",
                                "ALL",
                                "AMD",
                                "ANG",
                                "AOA",
                                "ARS",
                                "AUD",
                                "AWG",
                                "AZN",
                                "BAM",
                                "BBD",
                                "BDT",
                                "BGN",
                                "BHD",
                                "BIF",
                                "BMD",
                                "BND",
                                "BOB",
                                "BOV",
                                "BRL",
                                "BSD",
                                "BTN",
                                "BWP",
                                "BYN",
                                "BZD",
                                "CAD",
                                "CDF",
                                "CHE",
                                "CHF",
                                "CHW",
                                "CLF",
                                "CLP",
                                "CNY",
                                "COP",
                                "COU",
                                "CRC",
                                "CUC",
                                "CUP",
                                "CVE",
                                "CZK",
                                "DJF",
                                "DKK",
                                "DOP",
                                "DZD",
                                "EGP",
                                "ERN",
                                "ETB",
                                "EUR",
                                "FJD",
                                "FKP",
                                "GBP",
                                "GEL",
                                "GHS",
                                "GIP",
                                "GMD",
                                "GNF",
                                "GTQ",
                                "GYD",
                                "HKD",
                                "HNL",
                                "HRK",
                                "HTG",
                                "HUF",
                                "IDR",
                                "ILS",
                                "INR",
                                "IQD",
                                "IRR",
                                "ISK",
                                "JMD",
                                "JOD",
                                "JPY",
                                "KES",
                                "KGS",
                                "KHR",
                                "KMF",
                                "KPW",
                                "KRW",
                                "KWD",
                                "KYD",
                                "KZT",
                                "LAK",
                                "LBP",
                                "LKR",
                                "LRD",
                                "LSL",
                                "LYD",
                                "MAD",
                                "MDL",
                                "MGA",
                                "MKD",
                                "MMK",
                                "MNT",
                                "MOP",
                                "MRO",
                                "MUR",
                                "MVR",
                                "MWK",
                                "MXN",
                                "MXV",
                                "MYR",
                                "MZN",
                                "NAD",
                                "NGN",
                                "NIO",
                                "NOK",
                                "NPR",
                                "NZD",
                                "OMR",
                                "PAB",
                                "PEN",
                                "PGK",
                                "PHP",
                                "PKR",
                                "PLN",
                                "PYG",
                                "QAR",
                                "RON",
                                "RSD",
                                "RUB",
                                "RWF",
                                "SAR",
                                "SBD",
                                "SCR",
                                "SDG",
                                "SEK",
                                "SGD",
                                "SHP",
                                "SLL",
                                "SOS",
                                "SRD",
                                "SSP",
                                "STD",
                                "SVC",
                                "SYP",
                                "SZL",
                                "THB",
                                "TJS",
                                "TMT",
                                "TND",
                                "TOP",
                                "TRY",
                                "TTD",
                                "TWD",
                                "TZS",
                                "UAH",
                                "UGX",
                                "USD",
                                "USN",
                                "UYI",
                                "UYU",
                                "UZS",
                                "VEF",
                                "VND",
                                "VUV",
                                "WST",
                                "XAF",
                                "XAG",
                                "XAU",
                                "XBA",
                                "XBB",
                                "XBC",
                                "XBD",
                                "XCD",
                                "XDR",
                                "XOF",
                                "XPD",
                                "XPF",
                                "XPT",
                                "XSU",
                                "XTS",
                                "XUA",
                                "XXX",
                                "YER",
                                "ZAR",
                                "ZMW",
                                "ZWL"
                            ]
                        },
                        "useGrouping": {
                            "type": "boolean"
                        }
                    }
                }
            ]
        },
        "text": {
            "$id": "#text",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "properties": {
                        "inputType": {
                            "type": "string",
                            "enum": [
                                "color",
                                "date",
                                "datetime",
                                "datetime-local",
                                "email",
                                "month",
                                "number",
                                "password",
                                "range",
                                "tel",
                                "text",
                                "time",
                                "url",
                                "week"
                            ]
                        },
                        "maxLength": {
                            "type": "number"
                        },
                        "size": {
                            "type": "number"
                        },
                        "placeHolder": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        }
                    }
                }
            ]
        },
        "multipletext": {
            "$id": "#multipletext",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "properties": {
                        "items": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/text"
                            }
                        },
                        "colCount": {
                            "type": "number",
                            "enum": [
                                1,
                                2,
                                3,
                                4,
                                5
                            ]
                        },
                        "itemSize": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "paneldynamic": {
            "$id": "#paneldynamic",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "properties": {
                        "templateElements": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    {
                                        "$ref": "#/definitions/matrixdropdown"
                                    },
                                    {
                                        "$ref": "#/definitions/matrixdynamic"
                                    },
                                    {
                                        "$ref": "#/definitions/matrix"
                                    },
                                    {
                                        "$ref": "#/definitions/checkbox"
                                    },
                                    {
                                        "$ref": "#/definitions/radiogroup"
                                    },
                                    {
                                        "$ref": "#/definitions/imagepicker"
                                    },
                                    {
                                        "$ref": "#/definitions/dropdown"
                                    },
                                    {
                                        "$ref": "#/definitions/expression"
                                    },
                                    {
                                        "$ref": "#/definitions/text"
                                    },
                                    {
                                        "$ref": "#/definitions/multipletext"
                                    },
                                    {
                                        "$ref": "#/definitions/paneldynamic"
                                    },
                                    {
                                        "$ref": "#/definitions/html"
                                    },
                                    {
                                        "$ref": "#/definitions/empty"
                                    },
                                    {
                                        "$ref": "#/definitions/comment"
                                    },
                                    {
                                        "$ref": "#/definitions/file"
                                    },
                                    {
                                        "$ref": "#/definitions/rating"
                                    },
                                    {
                                        "$ref": "#/definitions/boolean"
                                    },
                                    {
                                        "$ref": "#/definitions/page"
                                    },
                                    {
                                        "$ref": "#/definitions/flowpanel"
                                    }
                                ]
                            }
                        },
                        "templateTitle": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "templateDescription": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "confirmDelete": {
                            "type": "boolean"
                        },
                        "keyName": {
                            "type": "string"
                        },
                        "confirmDeleteText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "keyDuplicationError": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "panelPrevText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "panelNextText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "panelAddText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "panelRemoveText": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "panelCount": {
                            "type": "number",
                            "enum": [
                                0,
                                1,
                                2,
                                3,
                                4,
                                5,
                                6,
                                7,
                                8,
                                9,
                                10
                            ]
                        },
                        "panelsState": {
                            "type": "string",
                            "enum": [
                                "default",
                                "collapsed",
                                "expanded",
                                "firstExpanded"
                            ]
                        },
                        "minPanelCount": {
                            "type": "number"
                        },
                        "maxPanelCount": {
                            "type": "number"
                        },
                        "allowAddPanel": {
                            "type": "boolean"
                        },
                        "allowRemovePanel": {
                            "type": "boolean"
                        },
                        "templateTitleLocation": {
                            "type": "string",
                            "enum": [
                                "default",
                                "top",
                                "bottom",
                                "left"
                            ]
                        },
                        "showQuestionNumbers": {
                            "type": "string",
                            "enum": [
                                "off",
                                "onPanel",
                                "onSurvey"
                            ]
                        },
                        "showRangeInProgress": {
                            "type": "boolean"
                        },
                        "renderMode": {
                            "type": "string",
                            "enum": [
                                "list",
                                "progressTop",
                                "progressBottom",
                                "progressTopBottom"
                            ]
                        },
                        "defaultPanelValue": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ]
                        },
                        "defaultValueFromLastPanel": {
                            "type": "boolean"
                        }
                    }
                }
            ]
        },
        "html": {
            "$id": "#html",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "properties": {
                        "html": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        }
                    }
                }
            ]
        },
        "empty": {
            "$id": "#empty",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                }
            ]
        },
        "comment": {
            "$id": "#comment",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "properties": {
                        "maxLength": {
                            "type": "number"
                        },
                        "placeHolder": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "rows": {
                            "type": "number"
                        },
                        "cols": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "file": {
            "$id": "#file",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "properties": {
                        "showPreview": {
                            "type": "boolean"
                        },
                        "allowMultiple": {
                            "type": "boolean"
                        },
                        "imageHeight": {
                            "type": "string"
                        },
                        "imageWidth": {
                            "type": "string"
                        },
                        "acceptedTypes": {
                            "type": "string"
                        },
                        "storeDataAsText": {
                            "type": "boolean"
                        },
                        "waitForUpload": {
                            "type": "boolean"
                        },
                        "allowImagesPreview": {
                            "type": "boolean"
                        },
                        "maxSize": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "rating": {
            "$id": "#rating",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "properties": {
                        "rateValues": {
                            "type": "array",
                            "items": {
                                "anyOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "$ref": "#/definitions/itemvalue"
                                    }
                                ]
                            }
                        },
                        "rateMin": {
                            "type": "number"
                        },
                        "rateMax": {
                            "type": "number"
                        },
                        "rateStep": {
                            "type": "number"
                        },
                        "minRateDescription": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "maxRateDescription": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        }
                    }
                }
            ]
        },
        "boolean": {
            "$id": "#boolean",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/question"
                },
                {
                    "properties": {
                        "defaultValue": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ],
                            "enum": [
                                "indeterminate",
                                "false",
                                "true"
                            ]
                        },
                        "label": {
                            "anyOf": [
                                { "type": "string" },
                                { "$ref": "#/definitions/localizablestring" }
                            ]
                        },
                        "showTitle": {
                            "type": "boolean"
                        },
                        "valueTrue": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ]
                        },
                        "valueFalse": {
                            "type": [
                                "string",
                                "number",
                                "boolean"
                            ]
                        }
                    }
                }
            ]
        },
        "panel": {
            "$id": "#panel",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/panelbase"
                },
                {
                    "properties": {
                        "page": {
                            "$ref": "#/definitions/page"
                        },
                        "state": {
                            "type": "string",
                            "enum": [
                                "default",
                                "collapsed",
                                "expanded"
                            ]
                        },
                        "indent": {
                            "type": "number",
                            "enum": [
                                0,
                                1,
                                2,
                                3
                            ]
                        },
                        "innerIndent": {
                            "type": "number",
                            "enum": [
                                0,
                                1,
                                2,
                                3
                            ]
                        },
                        "startWithNewLine": {
                            "type": "boolean"
                        }
                    }
                }
            ]
        },
        "flowpanel": {
            "$id": "#flowpanel",
            "type": "object",
            "allOf": [
                {
                    "$ref": "#/definitions/panel"
                },
                {
                    "properties": {
                        "content": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "itemvalue": {
            "$id": "#itemvalue",
            "type": "object",
            "properties": {
                "value": {
                    "type": "string"
                },
                "text": {
                    "anyOf": [
                        { "type": "string" },
                        { "$ref": "#/definitions/localizablestring" }
                    ]
                },
                "imageLink": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "title": {
                    "anyOf": [
                        { "type": "string" },
                        { "$ref": "#/definitions/localizablestring" }
                    ]
                },
                "isRequired": {
                    "type": "boolean"
                }
            }
        },
        "localizablestring": {
            "$id": "#localizablestring",
            "type": "object",
            "additionalProperties": {
                "type": "string"
            } 
        }
    }
}