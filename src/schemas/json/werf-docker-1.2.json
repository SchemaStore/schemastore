{
  "$comment": "Werf. Missing part of your CI/CD system https://werf.io/ docs for this file https://werf.io/documentation/v1.2/reference/werf_yaml.html",
  "$ref": "#/definitions/Docker",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "Docker": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "image": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          ],
          "description": "One or more unique names for image"
        },
        "dockerfile": {
          "type": "string",
          "description": "Dockerfile path relative to the context PATH"
        },
        "staged": {
          "type": "boolean",
          "description": "Enable layer-by-layer caching of Dockerfile instructions in container registry"
        },
        "context": {
          "type": "string",
          "description": "Build context PATH inside project directory"
        },
        "platform": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of target platforms for this image (for example `['linux/amd64', 'linux/arm64', 'linux/arm/v8']`)"
        },
        "contextAddFiles": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Untracked files and directories for adding to build context. The paths must be relative to context PATH"
        },
        "target": {
          "type": "string",
          "description": "Specific Dockerfile stage (last one by default, see docker build --target option)"
        },
        "args": {
          "type": "object",
          "description": "Variables for ARG dockerfile instructions (see docker build --build-arg option)"
        },
        "addHost": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Custom host-to-IP mapping (host:ip) (see docker build --add-host option)"
        },
        "network": {
          "type": "string",
          "description": "The networking mode for the RUN instructions during build (see docker build --network option)"
        },
        "ssh": {
          "type": "string",
          "description": "SSH agent socket or keys to the build (only if BuildKit enabled) (see docker build --ssh option)"
        },
        "dependencies": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Dependency"
          },
          "description": "Dependencies images for current image"
        }
      },
      "required": ["image"],
      "title": "Dockerfile image section"
    },
    "Dependency": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "image": {
          "type": "string",
          "description": "Dependency image name, which should be built before building current image"
        },
        "imports": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Import"
          },
          "description": "Define target build args to import image information into current image (optional)"
        }
      },
      "title": "Dependency"
    },
    "Import": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "type": {
          "type": "string",
          "enum": ["ImageName", "ImageDigest", "ImageRepo", "ImageTag"],
          "description": "Type of image info: ImageName, ImageDigest, ImageRepo or ImageTag"
        },
        "targetBuildArg": {
          "type": "string",
          "description": "Name of build argument which will contain specified type of information about image"
        }
      },
      "title": "Import"
    }
  },
  "description": "Werf"
}
