{
  "$schema": "http://json-schema.org/draft-04/schema",
  "definitions": {
    "buildConfig": {
      "additionalProperties": false,
      "description": "Build section defines configuration values for the build command.",
      "properties": {
        "changesFile": {
          "type": "string"
        },
        "cleanupCacheHistory": {
          "description": "If set to true, cleans up historical cache data when building.",
          "type": "boolean"
        },
        "content": {
          "$ref": "#/definitions/fileMappingContent"
        },
        "debug": {
          "description": "Run in debug mode. With debug mode, raw model and view model will be exported automatically when it encounters error when applying templates. If not specified, it is false.",
          "type": "boolean"
        },
        "debugOutput": {
          "description": "The output folder for files generated for debugging purpose when in debug mode. If not specified, it is ${TempPath}/docfx.",
          "type": "string"
        },
        "dest": {
          "type": "string"
        },
        "disableGitFeatures": {
          "$ref": "#/definitions/disableGitFeatures"
        },
        "dryRun": {
          "description": "If set to true, template will not be actually applied to the documents. This option is always used with `--exportRawModel` or `--exportViewModel`, so that only raw model files or view model files are generated.",
          "type": "boolean"
        },
        "exportRawModel": {
          "description": "If set to true, data model to run template script will be extracted in `.raw.json` extension.",
          "type": "boolean"
        },
        "exportViewModel": {
          "description": "If set to true, data model to apply template will be extracted in `.view.json` extension.",
          "type": "boolean"
        },
        "externalReference": {
          "$ref": "#/definitions/fileMappingExternalReferences"
        },
        "fileMetadata": {
          "additionalProperties": true,
          "description": "Contains metadata that will be applied to specific files.",
          "type": "object"
        },
        "fileMetadataFiles": {
          "$ref": "#/definitions/fileMetadataFiles"
        },
        "force": {
          "description": "",
          "type": "boolean"
        },
        "forcePostProcess": {
          "description": "Force to re-process the documentation in post processors. It will be cascaded from force option.",
          "type": "boolean"
        },
        "globalMetadata": {
          "additionalProperties": true,
          "description": "Contains metadata that will be applied to every file, in key-value pair format.",
          "type": "object"
        },
        "globalMetadataFiles": {
          "$ref": "#/definitions/globalMetadataFiles"
        },
        "intermediateFolder": {
          "type": "string"
        },
        "keepFileLink": {
          "description": "If set to true, DocFX does not copy file to the output folder. Instead, it saves a link_to_path property inside manifest.json.",
          "type": "boolean"
        },
        "lruSize": {
          "description": "Set the LRU cached model count (approximately the same as the count of input files). By default, it is 8192 for 64bit and 3072 for 32bit process. With LRU cache enabled, memory usage decreases and time consumed increases. If set to 0, Lru cache is disabled.",
          "minimum": 0,
          "type": "integer"
        },
        "markdownEngineName": {
          "description": "Set the name of markdown engine, default is dfm, and another build-in engine is gfm.",
          "type": "string"
        },
        "markdownEngineProperties": {
          "additionalProperties": true,
          "description": "Set the parameters for markdown engine.",
          "type": "object"
        },
        "maxParallelism": {
          "description": "Set the max parallelism, 0 (default) is same as the count of CPU cores.",
          "minimum": 0,
          "type": "integer"
        },
        "noLangKeyword": {
          "description": "Disable default lang keyword, e.g. `null`.",
          "type": "boolean"
        },
        "overwrite": {
          "$ref": "#/definitions/fileMappingOverwrite"
        },
        "port": {
          "description": "Specify the port of the hosted website.",
          "type": "string"
        },
        "postProcessors": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          ]
        },
        "rawModelOutputFolder": {
          "description": "Specify the output folder for the raw model. If not set, the raw model will be generated to the same folder as the output documentation.",
          "type": "string"
        },
        "resource": {
          "$ref": "#/definitions/fileMappingResource"
        },
        "serve": {
          "description": "",
          "type": "boolean"
        },
        "template": {
          "$ref": "#/definitions/template"
        },
        "theme": {
          "$ref": "#/definitions/theme"
        },
        "viewModelOutputFolder": {
          "description": "Specify the output folder for the view model. If not set, the view model will be generated to the same folder as the output documentation.",
          "type": "string"
        },
        "xref": {
          "$ref": "#/definitions/xref"
        }
      },
      "type": "object"
    },
    "disableGitFeatures": {
      "description": "If set to true, DocFX would not fetch Git related information for articles.",
      "type": "boolean"
    },
    "exclude": {
      "description": "The file glob pattern collection for files that should be excluded, with path relative to property `src`/`cwd` if value is set.",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      ]
    },
    "fileMappingContent": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "items": {
            "$ref": "#/definitions/fileMappingItem"
          },
          "type": "array"
        }
      ],
      "description": "Contains all the files to generate documentation, including metadata `yml` files and conceptual `md` files."
    },
    "fileMappingExternalReferences": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "items": {
            "$ref": "#/definitions/fileMappingItem"
          },
          "type": "array"
        }
      ],
      "description": "[Obsoleted] Contains `rpk` files that define the external references."
    },
    "fileMappingItem": {
      "additionalProperties": false,
      "properties": {
        "case": {
          "description": "Pattern match will be case sensitive.\nBy default the pattern is case insensitive.",
          "type": "boolean"
        },
        "cwd": {
          "description": "[Obsoleted] Defines the root folder for the source files, it has the same meaning as `src`",
          "type": "string"
        },
        "dest": {
          "description": "The destination folder for the files if copy/transform is used.",
          "type": "string"
        },
        "dot": {
          "description": "Allow files start with `.` to be matched even if `.` is not explicitly specified in the pattern.\nBy default files start with `.` will not be matched by `*` unless the pattern starts with `.`.",
          "type": "boolean"
        },
        "exclude": {
          "$ref": "#/definitions/exclude"
        },
        "files": {
          "$ref": "#/definitions/files"
        },
        "name": {
          "description": "The name of current item, the value is not used for now.",
          "type": "string"
        },
        "noEscape": {
          "description": "Disable the usage of `\\` to escape values.\nBy default the usage is enabled.",
          "type": "boolean"
        },
        "noExpand": {
          "description": "Disable `{a,b}c` => `[\"ac\", \"bc\"]`. By default the usage is enabled.",
          "type": "boolean"
        },
        "noGlobStar": {
          "description": "Disable the usage of `**` to match everything including `/` when it is the beginning of the pattern or is after `/`.\nBy default the usage is enable.",
          "type": "boolean"
        },
        "noNegate": {
          "description": "Disable pattern begin with `!` to mean negate.\nBy default the usage is enabled.",
          "type": "boolean"
        },
        "rootTocPath": {
          "description": "The Root TOC Path used for navbar in current version, relative to output root.\nIf not set, will use the toc in output root in current version if exists.",
          "type": "string"
        },
        "src": {
          "description": "Defines the root folder for the source files, it has the same meaning as `cwd`",
          "type": "string"
        },
        "version": {
          "description": "Version name for the current file-mapping item.\nIf not set, treat the current file-mapping item as in default version.\nMappings with the same version name will be built together.\nCross reference doesn't support cross different versions.",
          "type": "string"
        }
      },
      "required": ["files"],
      "type": "object"
    },
    "fileMappingOverwrite": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "items": {
            "$ref": "#/definitions/fileMappingItem"
          },
          "type": "array"
        }
      ],
      "description": "Contains all the conceptual files which contains yaml header with `uid` and is intended to override the existing metadata `yml` files."
    },
    "fileMappingResource": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "items": {
            "$ref": "#/definitions/fileMappingItem"
          },
          "type": "array"
        }
      ],
      "description": "Contains all the resource files that conceptual and metadata files dependent on, e.g. image files."
    },
    "fileMappingSrc": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "items": {
            "$ref": "#/definitions/fileMappingItem"
          },
          "type": "array"
        }
      ],
      "description": "Defines the source projects to have metadata generated."
    },
    "fileMetadataFiles": {
      "description": "Specify a list of JSON file path containing fileMetadata settings, as similar to `{\"key\":\"value\"}`.",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      ]
    },
    "files": {
      "description": "The file glob pattern collection, with path relative to property `src`/`cwd` if value is set.",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      ]
    },
    "globalMetadataFiles": {
      "description": "Specify a list of JSON file path containing globalMetadata settings, as similar to `{\"key\":\"value\"}`.",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      ]
    },
    "metadataConfig": {
      "description": "Metadata section defines an array of source projects and their output folder.",
      "items": {
        "$ref": "#/definitions/metadataConfigItem"
      },
      "type": "array"
    },
    "metadataConfigItem": {
      "additionalProperties": false,
      "properties": {
        "dest": {
          "description": "Defines the output folder of the generated metadata files.",
          "type": "string"
        },
        "disableDefaultFilter": {
          "description": "If set to true, disables default API visibility filter rule.",
          "type": "boolean"
        },
        "disableGitFeatures": {
          "$ref": "#/definitions/disableGitFeatures"
        },
        "filter": {
          "description": "Defines the filter configuration file.",
          "type": "string"
        },
        "force": {
          "description": "If set to true, it would disable incremental build.",
          "type": "boolean"
        },
        "raw": {
          "type": "boolean"
        },
        "shouldSkipMarkup": {
          "description": "If set to true, DocFX would not render triple-slash-comments in source code as markdown.",
          "type": "boolean"
        },
        "src": {
          "$ref": "#/definitions/fileMappingSrc"
        },
        "useCompatibilityFileName": {
          "description": " If set to true, DocFX would keep ` in comment id instead of replacing it with -.",
          "type": "boolean"
        }
      },
      "required": ["src", "dest"],
      "type": "object"
    },
    "template": {
      "description": "The latter ones will override the former ones if the name of the file inside the template collides. If omitted, embedded default template will be used.",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      ]
    },
    "theme": {
      "description": "The themes applied to the documentation. Theme is used to customize the styles generated by `template`. It can be a string or an array. The latter ones will override the former ones if the name of the file inside the template collides. If omitted, no theme will be applied, the default theme inside the template will be used.",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      ]
    },
    "xref": {
      "description": "Specifies the urls of xrefmap used by content files. Currently, it supports following scheme: http, https, ftp, file, embedded.",
      "oneOf": [
        {
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      ]
    }
  },
  "properties": {
    "build": {
      "$ref": "#/definitions/buildConfig"
    },
    "metadata": {
      "$ref": "#/definitions/metadataConfig"
    }
  },
  "title": "DocFx configuration file",
  "type": "object"
}
