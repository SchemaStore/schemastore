{
  "$id": "https://json.schemastore.org/cargo-playdate-0.1.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$comment": "https://github.com/boozook/playdate",
  "allOf": [
    {
      "$ref": "https://json.schemastore.org/cargo.json"
    }
  ],
  "definitions": {
    "Package": {
      "allOf": [
        {
          "$ref": "https://json.schemastore.org/cargo.json#/definitions/Package"
        }
      ],
      "type": "object",
      "required": [
        "metadata"
      ],
      "additionalProperties": true,
      "properties": {
        "metadata": {
          "allOf": [
            {
              "$ref": "https://json.schemastore.org/cargo.json#/definitions/Package/properties/metadata"
            }
          ],
          "type": "object",
          "properties": {
            "playdate": {
              "$ref": "#/definitions/PlaydateMetadata"
            }
          },
          "required": [
            "playdate"
          ],
          "additionalProperties": true,
          "x-taplo": {
            "links": {
              "key": "https://doc.rust-lang.org/cargo/reference/manifest.html#the-metadata-table"
            }
          }
        }
      },
      "x-taplo": {
        "links": {
          "key": "https://doc.rust-lang.org/cargo/reference/manifest.html#the-package-section"
        }
      }
    },
    "PlaydateMetadata": {
      "title": "Playdate Package Metadata",
      "description": "Metadata and build configuration.",
      "type": "object",
      "required": [
        "bundle-id"
      ],
      "properties": {
        "bundle-id": {
          "type": "string",
          "description": "A unique identifier for your game, in reverse DNS notation.",
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          }
        },
        "name": {
          "type": "string",
          "description": "A game version number, formatted any way you wish, that is displayed to players. It is not used to compute when updates should occur.",
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          }
        },
        "author": {
          "type": "string",
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          }
        },
        "description": {
          "type": "string",
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          }
        },
        "version": {
          "type": "string",
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          }
        },
        "build-number": {
          "type": "integer",
          "exclusiveMinimum": 0,
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          },
          "description": "A monotonically-increasing integer value used to indicate a unique version of your game. This can be set using an automated build process like Continuous Integration to avoid having to set the value by hand.\n\nFor sideloaded games, buildNumber is required and is used to determine when a newer version is available to download."
        },
        "image-path": {
          "type": "string",
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          },
          "description": "A directory of images that will be used by the launcher.\n\nMore in [official documentation](https://sdk.play.date/#pdxinfo)."
        },
        "launch-sound-path": {
          "type": "string",
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          },
          "description": "Should point to the path of a short audio file to be played as the game launch animation is taking place.\n\nMore in [official documentation](https://sdk.play.date/#pdxinfo)."
        },
        "content-warning": {
          "type": "string",
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          },
          "description": "Optional. A content warning that displays when the user launches your game for the first time. The user will have the option of backing out and not launching your game if they choose."
        },
        "content-warning2": {
          "type": "string",
          "x-taplo": {
            "links": {
              "key": "https://sdk.play.date/#pdxinfo"
            }
          },
          "description": "Optional. A second content warning that displays on a second screen when the user launches your game for the first time. The user will have the option of backing out and not launching your game if they choose.\n\nNote: `content-warning2` will only display if a `content-warning` attribute is also specified.\n\nThe string displayed on the content warning screen can only be so long before it will be truncated with an \"â€¦\" character. Be sure to keep this in mind when designing your `content-warning` and `content-warning2` text."
        },
        "assets": {
          "anyOf": [
            {
              "$ref": "#/definitions/PlaydateMetadataAssetsMap"
            },
            {
              "$ref": "#/definitions/PlaydateMetadataAssetsArray"
            }
          ]
        },
        "options": {
          "$ref": "#/definitions/PlaydateMetadataOptions"
        },
        "support": {
          "type": "object",
          "properties": {},
          "additionalProperties": true
        }
      },
      "additionalProperties": false,
      "x-taplo": {
        "initKeys": [
          "bundle-id",
          "name",
          "description",
          "author",
          "image-path",
          "launch-sound-path"
        ],
        "links": {
          "key": "https://sdk.play.date/#pdxinfo"
        }
      }
    },
    "PlaydateMetadataAssetsArray": {
      "type": "array",
      "title": "Assets list",
      "description": "List of paths to include.",
      "uniqueItems": true,
      "items": {
        "title": "Path",
        "description": "Path to include.",
        "type": "string"
      },
      "x-taplo": {
        "links": {
          "key": "https://github.com/boozook/playdate/blob/main/support/build/README.md#assets-list"
        }
      }
    },
    "PlaydateMetadataAssetsMap": {
      "type": "object",
      "title": "Assets rules",
      "description": "Rules used to resolve paths to include.",
      "properties": {
        "options": {
          "$ref": "#/definitions/PlaydateMetadataAssetsOptions"
        }
      },
      "additionalProperties": {
        "anyOf": [
          {
            "type": "string",
            "title": "Path",
            "description": "Path of files to include. Can be absolute, relative to the crate root, or/and glob.\n\nLeft hand is where to put files, path in the resulting package.\n\nRight hand is a path or pattern to match files to include."
          },
          {
            "type": "boolean",
            "title": "Include",
            "description": "Include or exclude the file or glob-pattern."
          }
        ]
      },
      "x-taplo": {
        "links": {
          "key": "https://github.com/boozook/playdate/blob/main/support/build/README.md#assets-table"
        }
      }
    },
    "PlaydateMetadataAssetsOptions": {
      "type": "object",
      "title": "Assets Configuration",
      "description": "Options for assets paths resolution and how to build assets collection",
      "additionalProperties": false,
      "properties": {
        "overwrite": {
          "type": "boolean",
          "description": "Allow overwriting existing files."
        },
        "follow-symlinks": {
          "type": "boolean"
        },
        "method": {
          "type": "string",
          "enum": [
            "copy",
            "link"
          ]
        },
        "dependencies": {
          "type": "boolean",
          "description": "Allow build assets for dependencies."
        }
      },
      "x-taplo": {
        "links": {
          "key": "https://github.com/boozook/playdate/blob/main/support/build/README.md#assets-options"
        }
      }
    },
    "PlaydateMetadataOptions": {
      "type": "object",
      "title": "Configuration",
      "description": "Package build options.",
      "additionalProperties": true,
      "properties": {
        "assets": {
          "$ref": "#/definitions/PlaydateMetadataAssetsOptions"
        }
      },
      "x-taplo": {
        "links": {
          "key": "https://github.com/boozook/playdate/blob/main/support/build/README.md#options"
        }
      }
    }
  },
  "properties": {
    "package": {
      "$ref": "#/definitions/Package"
    }
  },
  "x-taplo-info": {
    "authors": [
      "Alex Koz. (https://github.com/boozook)"
    ],
    "patterns": [
      "^(.*(/|\\\\)Cargo\\.toml|Cargo\\.toml)$"
    ]
  }
}
