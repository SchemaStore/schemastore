{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "additionalProperties": false,
  "properties": {
    "appAssets": {
      "description": "Set this object to co-deploy native apps along with your app.",
      "items": {
        "additionalProperties": false,
        "properties": {
          "alias": {
            "description": "Name of the asset. The name will be used in launchExternalProcess to launch the asset.",
            "type": "string"
          },
          "args": {
            "description": "The default command line arguments for the aforementioned target.",
            "type": "string"
          },
          "src": {
            "description": "URL to a zip file containing the package files (executables, dlls, etc…).",
            "type": "string"
          },
          "target": {
            "description": "Specifies default executable to launch. This option can be overridden in launchExternalProcess.",
            "type": "string"
          },
          "version": {
            "description": "Version of the package. To force new updates, increment the version.",
            "type": "string"
          }
        },
        "required": ["alias", "src", "version"]
      },
      "type": "array"
    },
    "assets_url": {
      "description": "If an application specifies a valid “assetsUrl”, then that “assetsUrl” will be used as the base portion of the URL instead of the OpenFin default, https://developer.openfin.co/release/.",
      "type": "string"
    },
    "devtools_port": {
      "description": "You can access the Chromium development tools by navigating to the selected port, i.e.: http://localhost:9090.",
      "type": "number"
    },
    "dialogSettings": {
      "additionalProperties": false,
      "description": "An optional object to customize the appearance of the RVM progress dialog.",
      "properties": {
        "bgColor": {
          "description": "Determines the color of the dialog. Color value is a decimal representation of a 32 bit number (A,R,G,B). For instance : FF00FF00 or 4278255360 is fully opaque green.",
          "type": "number"
        },
        "logo": {
          "description": "Determines the logo or image in the progress dialog. The logo should be a semi-transparent PNG. 100×25 pixels.",
          "type": "string"
        },
        "progressBarBgColor": {
          "description": "Determines the background color of the area where the progress bar is displayed.",
          "type": "number"
        },
        "progressBarBorderColor": {
          "description": "Determines the border color of the progress bar.",
          "type": "number"
        },
        "progressBarFillColor": {
          "description": "Determines the color of the progress bar.",
          "type": "number"
        },
        "textColor": {
          "description": "Determines the color of the text displayed above the progress bar location.",
          "type": "number"
        }
      }
    },
    "licenseKey": {
      "description": "A string used as a licensing identifier for each customer/contract (RVM 2.7+). The OpenFin team will generate this for your production app.",
      "type": "string"
    },
    "runtime": {
      "additionalProperties": false,
      "description": "Determines which runtime version the app will use.",
      "properties": {
        "arguments": {
          "description": "Command line arguments to set when launching the runtime. The OpenFin Runtime supports Chromium command line switches e.g.: “– –disable-accelerated-compositing – –enable-threaded-compositing” for a complete list of values please refer to current Chromium switches.",
          "type": "string"
        },
        "fallbackVersion": {
          "description": "The RVM will fallback to this version if it fails to retrieve the desired Runtime version, assuming this version is already installed. (RVM 2.8+)",
          "type": "string"
        },
        "forceLatest": {
          "description": "If true, forces the runtime to always get the latest runtime version before launching (prevents background installs).",
          "type": "boolean"
        },
        "version": {
          "description": "Specifies what version of the runtime the app should use. The value can either be a specific version or a release channel (e.g. alpha).",
          "oneOf": [
            {
              "pattern": "(\\d{1,3}\\.){3}\\d{1,3}"
            },
            {
              "enum": ["alpha", "beta", "canary", "stable", "staging"]
            }
          ],
          "type": "string"
        }
      },
      "required": ["version"]
    },
    "shortcut": {
      "additionalProperties": false,
      "description": "Settings for the app’s desktop shortcut",
      "properties": {
        "company": {
          "description": "Company name for the application shortcut.",
          "type": "string"
        },
        "description": {
          "description": "A short description of the application shortcut. Will be shown when hovering over the shortcut icon.",
          "type": "string"
        },
        "force": {
          "description": "If set to true, a desktop icon is always created on application start-up (even when user has deleted it). If set to false, a desktop icon is created on initial application launch but not created on subsequent application launches.",
          "type": "boolean"
        },
        "icon": {
          "description": "Location for the icon image to be used when installing the application shortcut.",
          "type": "string"
        },
        "name": {
          "description": "Name of the application to display with the shortcut.",
          "type": "string"
        },
        "startMenuRootFolder": {
          "description": "Set this value with a folder path (e.g. foo/bar) and the RVM will create the start menu shortcut under RootFolder/Company/App.",
          "type": "string"
        },
        "target": {
          "description": "Locations for where the application shortcut is added on the desktop owner’s machine. Available options are “desktop”, “start-menu” and “automatic-start-up”. The default is start-menu and desktop.",
          "items": {
            "enum": ["automatic-start-up", "desktop", "start-menu"],
            "type": "string"
          },
          "type": "array"
        },
        "uninstall-shortcut": {
          "description": "Removes the Start menu uninstall shortcut.",
          "type": "boolean"
        }
      },
      "required": ["company", "icon", "name"]
    },
    "splashScreenImage": {
      "description": "You can specify an image to display while the runtime is loading. It takes any image file (including semi-transparent PNGs).",
      "type": "string"
    },
    "startup_app": {
      "additionalProperties": false,
      "description": "Specifies the application level configuration.",
      "properties": {
        "accelerator": {
          "additionalProperties": false,
          "description": "The name of this builder instance, which can be specified in the only/except property of a provisioner.",
          "properties": {
            "devtools": {
              "default": false,
              "description": "If true, allows the Dev Tools to be opened with the keyboard shortcut: Ctrl+Shift+i.",
              "type": "boolean"
            },
            "reload": {
              "default": false,
              "description": "If true, allows a window to reload with the keyboard shortcuts: Ctrl+r or F5.",
              "type": "boolean"
            },
            "reloadIgnoreCache": {
              "default": false,
              "description": "If true, allows a window to reload while ignoring the cache with the keyboard shortcuts: Ctrl+Shift or Shift+F5.",
              "type": "boolean"
            },
            "zoom": {
              "default": false,
              "description": "If true, enables the Zoom keyboard shortcuts: Ctrl+ (Zoom in), Ctrl- (Zoom out) and Ctrl+0 (Restore to 100%).",
              "type": "boolean"
            }
          }
        },
        "alwaysOnTop": {
          "default": false,
          "description": "A flag to always position the window at the top of the window stack.",
          "type": "boolean"
        },
        "applicationIcon": {
          "description": "A URL for the icon to be shown in the window title bar.",
          "type": "string"
        },
        "autoShow": {
          "default": false,
          "description": "A flag to automatically show the Window when it is created.",
          "type": "boolean"
        },
        "childWindowAutoAuth": {
          "default": true,
          "description": "Allow non API created child windows, such as window.open, to authenticate.",
          "type": "boolean"
        },
        "clearChildSubscriptionsOnReload": {
          "default": true,
          "description": "Clear InterApplication subscriptions of all child windows when main window is reloaded.",
          "type": "boolean"
        },
        "contextMenu": {
          "default": true,
          "description": "A flag to show the context menu when right-clicking on a window. Gives access to the Developer Console for the Window.",
          "type": "boolean"
        },
        "cornerRounding": {
          "additionalProperties": false,
          "description": "This defines and applies rounded corners for the window.",
          "properties": {
            "height": {
              "description": "This defines and applies rounded corners for the window.",
              "type": "number"
            },
            "width": {
              "description": "This defines and applies rounded corners for the window.",
              "type": "number"
            }
          }
        },
        "defaultCentered": {
          "default": false,
          "description": "Specifies that the window will be positioned in the center of the primary monitor when loaded for the first time on a machine. When the window corresponding to that id is loaded again, the position from before the window was closed is used.",
          "type": "boolean"
        },
        "defaultHeight": {
          "default": 500,
          "description": "The default height of the window. Specifies the height of the window when loaded for the first time on a machine. When the window corresponding to that id is loaded again, the height is taken to be the last height of the window before it was closed.",
          "type": "number"
        },
        "defaultLeft": {
          "default": 10,
          "description": "The default left position of the window. Specifies the position of the left of the window when loaded for the first time on a machine. When the window corresponding to that id is loaded again, the value of left is taken to be the last value before the window was closed.",
          "type": "number"
        },
        "defaultTop": {
          "default": 10,
          "description": "The default top position of the window. Specifies the position of the top of the window when loaded for the first time on a machine. When the window corresponding to that id is loaded again, the value of top is taken to be the last value before the window was closed.",
          "type": "number"
        },
        "defaultWidth": {
          "default": 800,
          "description": "The default width of the window. Specifies the width of the window when loaded for the first time on a machine. When the window corresponding to that id is loaded again, the width is taken to be the last width of the window before it was closed.",
          "type": "number"
        },
        "description": {
          "description": "The name for the window which must be unique within the context of the invoking Application.",
          "type": "string"
        },
        "frame": {
          "default": true,
          "description": "A flag to show the frame.",
          "type": "boolean"
        },
        "icon": {
          "description": "A URL for the icon to be shown in the window title bar.",
          "type": "string"
        },
        "maxHeight": {
          "default": -1,
          "description": "The maximum height of a window. Will default to the OS defined value if set to -1.",
          "type": "number"
        },
        "maxWidth": {
          "default": -1,
          "description": "The maximum width of a window. Will default to the OS defined value if set to -1.",
          "type": "number"
        },
        "maximizable": {
          "default": true,
          "description": "A flag that lets the window be maximized.",
          "type": "boolean"
        },
        "minHeight": {
          "description": "The minimum height of a window.",
          "type": "number"
        },
        "minWidth": {
          "description": "The minimum width of a window.",
          "type": "number"
        },
        "name": {
          "description": "The name for the window which must be unique within the context of the invoking Application.",
          "type": "string"
        },
        "nonPersistent": {
          "default": false,
          "description": "A flag to configure the application as a non persistent. Runtime exits if there are no persistent apps running.",
          "type": "boolean"
        },
        "opacity": {
          "default": 1,
          "description": "A flag that specifies how transparent the window will be. This value is clamped between 0.0 and 1.0.",
          "type": "number"
        },
        "permissions": {
          "description": "Enable secured APIs",
          "properties": {
            "ExternalWindow": {
              "properties": {
                "wrap": {
                  "type": "boolean"
                }
              },
              "type": "object"
            },
            "System": {
              "properties": {
                "downloadAsset": {
                  "type": "boolean"
                },
                "getAllExternalWindows": {
                  "type": "boolean"
                },
                "launchExternalProcess": {
                  "type": "boolean"
                },
                "readRegistryValue": {
                  "type": "boolean"
                },
                "terminateExternalProcess": {
                  "type": "boolean"
                }
              },
              "type": "object"
            }
          },
          "type": "object"
        },
        "preloadScripts": {
          "description": "An array of scripts to download and run before other scripts in the page.",
          "items": {
            "properties": {
              "url": {
                "description": "URL from which to fetch the script.",
                "type": "string"
              }
            },
            "required": ["url"]
          },
          "type": "array"
        },
        "resizable": {
          "default": true,
          "description": "A flag to drop to allow the user to resize the window.",
          "type": "boolean"
        },
        "resizeRegion": {
          "additionalProperties": false,
          "description": "Define the attributes of the window's resize region.",
          "properties": {
            "bottomRightCorner": {
              "default": 4,
              "description": "Defines a region in pixels of an additional square at the bottom right corner of a frameless window.",
              "type": "number"
            },
            "size": {
              "default": 2,
              "description": "Defines a region in pixels that will respond to user mouse interaction for resizing a frameless window.",
              "type": "number"
            }
          }
        },
        "saveWindowState": {
          "default": true,
          "description": "A flag to cache the location of the window or not.",
          "type": "boolean"
        },
        "showTaskbarIcon": {
          "default": true,
          "description": "A flag to show the Window’s icon in the taskbar.",
          "type": "boolean"
        },
        "state": {
          "default": "normal",
          "description": "A string that sets the window to be “minimized”, “maximized”, or “normal” on creation.",
          "enum": ["maximized", "minimized", "normal"],
          "type": "string"
        },
        "taskbarIcon": {
          "description": "The URL of an icon to be shown on the desktop. Support formats: Portable Network Graphic (PNG); Size: 256 x 256.",
          "type": "string"
        },
        "taskbarIconGroup": {
          "description": "Group your OpenFin apps in the Taskbar. v5.0+",
          "type": "string"
        },
        "url": {
          "description": "The URL of the window.",
          "type": "string"
        },
        "uuid": {
          "description": "The UUID of the application, unique within the set of all other Applications running in OpenFin Runtime.",
          "type": "string"
        },
        "waitForPageLoad": {
          "default": true,
          "description": "When set to false, the page will render before the “load” event is fired on the window. Caution, when false you will see an initial empty white window.",
          "type": "boolean"
        }
      },
      "required": ["name", "url", "uuid"]
    },
    "supportInformation": {
      "additionalProperties": false,
      "description": "An optional object to customize error messages.",
      "properties": {
        "company": {
          "description": "Displays the company name in the title bar for the support error dialog that appears when an application fails to load.",
          "type": "string"
        },
        "email": {
          "description": "Displays the email to contact in the support error dialog that appears when an application fails to load.",
          "type": "string"
        },
        "enableErrorReporting": {
          "default": true,
          "description": "To disable the error reporting feature, set this value to false.",
          "type": "boolean"
        },
        "forwardErrorReports": {
          "default": false,
          "description": "When set to true, prompts end users with a dialog when a deployment error occurs from within the RVM and enables them send along log files from their machine. Error reports are delivered to your email address set in supportInformation.",
          "type": "boolean"
        },
        "product": {
          "description": "Displays the product name or application name in the support error dialog that appears when an application fails to load.",
          "type": "string"
        }
      },
      "required": ["company", "email", "product"]
    }
  },
  "required": ["runtime", "shortcut", "startup_app"],
  "title": "JSON schema for OpenFin application configuration files"
}
