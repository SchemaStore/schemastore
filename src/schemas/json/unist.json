{
  "title": "JSON schema for unist syntax trees",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "branchDefinition": {
      "description": "A branch is a node with one or more children.",
      "type": "object",
      "properties": {
        "children": {
          "description": "Children are direct descending nodes of another node.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/childDefinition"
          },
          "minItems": 1
        },
        "data": {
          "$ref": "#/definitions/dataDefinition"
        },
        "id": {
          "$ref": "#/definitions/idDefinition"
        },
        "parent": {
          "$ref": "#/definitions/branchDefinition"
        },
        "position": {
          "$ref": "#/definitions/positionDefinition"
        },
        "type": {
          "$ref": "#/definitions/typeDefinition"
        },
        "value": {
          "not": {}
        }
      },
      "required": ["children", "type"],
      "additionalProperties": false
    },
    "childDefinition": {
      "description": "A child is a direct descending nodes of another node.",
      "type": "object",
      "anyOf": [
        { "$ref": "#/definitions/branchDefinition" },
        { "$ref": "#/definitions/literalDefinition" }
      ]
    },
    "dataDefinition": {
      "description": "The data field represents information from the ecosystem. This space is guaranteed to never be specified by unist or specifications implementing unist.",
      "type": "object"
    },
    "idDefinition": {
      "description": "The node ID.",
      "anyOf": [
        {
          "type": "integer",
          "minimum": 1
        },
        {
          "type": "string",
          "minLength": 1
        }
      ]
    },
    "literalDefinition": {
      "description": "A literal is a node with a value field.",
      "type": "object",
      "properties": {
        "children": {
          "not": {}
        },
        "data": {
          "$ref": "#/definitions/dataDefinition"
        },
        "id": {
          "$ref": "#/definitions/idDefinition"
        },
        "parent": {
          "$ref": "#/definitions/branchDefinition"
        },
        "position": {
          "$ref": "#/definitions/positionDefinition"
        },
        "type": {
          "$ref": "#/definitions/typeDefinition"
        },
        "value": {
          "description": "The value field can contain any value."
        }
      },
      "required": ["type", "value"],
      "additionalProperties": false
    },
    "pointDefinition": {
      "description": "A point represents one place in a source file.",
      "type": "object",
      "properties": {
        "column": {
          "description": "The column field (1-indexed integer) represents a column in a source file.",
          "type": "integer",
          "minimum": 1
        },
        "line": {
          "description": "The line field (1-indexed integer) represents a line in a source file.",
          "type": "integer",
          "minimum": 1
        },
        "offset": {
          "description": "The offset field (0-indexed integer) represents a character in a source file.",
          "type": "integer",
          "minimum": 0
        }
      },
      "required": ["column", "line"],
      "additionalProperties": false
    },
    "positionDefinition": {
      "description": "A position represents the location of a node in a source file.",
      "type": "object",
      "properties": {
        "end": {
          "description": "The end field of Position represents the place of the first character after the parsed source region, whether it exists or not.",
          "$ref": "#/definitions/pointDefinition"
        },
        "start": {
          "description": "The start field of Position represents the place of the first character of the parsed source region.",
          "$ref": "#/definitions/pointDefinition"
        }
      },
      "required": ["end", "start"],
      "additionalProperties": false
    },
    "typeDefinition": {
      "description": "The type field is a non-empty string representing the variant of a node. This field can be used to determine the type a node implements.",
      "type": "string"
    }
  },
  "type": "object",
  "properties": {
    "children": {
      "description": "The root tree branches.",
      "type": "array",
      "items": {
        "$ref": "#/definitions/branchDefinition"
      }
    },
    "type": {
      "description": "The root tree type (must be \"root\").",
      "type": "string",
      "const": "root"
    }
  },
  "required": ["children", "type"],
  "additionalProperties": false
}
