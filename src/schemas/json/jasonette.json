{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "definitions": {
    "action": {
      "properties": {
        "error": {
          "properties": {
            "options": {
              "type": "object"
            },
            "type": {
              "type": "string"
            }
          }
        },
        "options": {
          "type": "object"
        },
        "success": {
          "properties": {
            "options": {
              "type": "object"
            },
            "type": {
              "type": "string"
            }
          }
        },
        "type": {
          "oneOf": [
            {
              "title": "custom",
              "type": "string"
            },
            {
              "$ref": "#/definitions/builtinActionsEnum",
              "title": "builtins"
            }
          ]
        }
      },
      "required": ["type"],
      "type": "object"
    },
    "advancedTitle": {
      "additionalProperties": false,
      "oneOf": [
        {
          "properties": {
            "style": {
              "properties": {
                "height": {
                  "type": "integer"
                },
                "width": {
                  "type": "integer"
                }
              },
              "required": ["width, height"],
              "type": "object"
            },
            "type": {
              "enum": ["image"],
              "type": "string"
            },
            "url": {
              "$ref": "#/definitions/imgUrl"
            }
          },
          "required": ["type", "url"],
          "title": "Title with Image"
        },
        {
          "properties": {
            "text": {
              "format": "text",
              "type": "string"
            },
            "type": {
              "enum": ["label"],
              "type": "string"
            }
          },
          "required": ["type", "text"],
          "title": "Title with Label"
        }
      ],
      "title": "Advanced Title",
      "type": "object"
    },
    "builtinActionsEnum": {
      "enum": [
        "$render",
        "$reload",
        "$snapshot",
        "$href",
        "$close",
        "$back",
        "$network.request",
        "$network.upload",
        "$session.set",
        "$session.reset",
        "$set",
        "$get",
        "$cache.set",
        "$cache.reset",
        "$global.set",
        "$global.reset",
        "$util.banner",
        "$util.toast",
        "$util.alert",
        "$util.share",
        "$util.picker",
        "$util.datepicker",
        "$util.addressbook",
        "$media.camera",
        "$media.picker",
        "media.player",
        "$audio.play",
        "$audio.pause",
        "$audio.stop",
        "$audio.seek",
        "$audio.position",
        "$audio.duration",
        "audio.record",
        "$geo.get",
        "$timer.start",
        "$timer.stop",
        "$convert.csv",
        "$convert.rss"
      ],
      "type": "string"
    },
    "data": {
      "type": "object"
    },
    "imgUrl": {
      "format": "url",
      "links": [
        {
          "href": "{{self}}",
          "mediaType": "image/png"
        }
      ],
      "type": "string"
    },
    "style": {
      "properties": {
        "color": {
          "format": "color",
          "type": "string"
        },
        "font": {
          "type": "string"
        },
        "padding": {
          "type": "integer"
        },
        "size": {
          "type": "integer"
        }
      },
      "type": "object"
    },
    "template": {
      "type": "object"
    }
  },
  "properties": {
    "body": {
      "description": "Body contains everything that gets displayed on the screen.",
      "properties": {
        "ads": {},
        "footer": {},
        "header": {
          "description": "Header describes the top header bar and its components.",
          "properties": {
            "menu": {},
            "search": {
              "description": "Search component. Calls an action you define when user submits a query.",
              "properties": {
                "action": {
                  "$ref": "#/definitions/action",
                  "description": "Action to trigger if defined"
                },
                "name": {
                  "description": "The value inside the search input is automatically stored to the local variable named by this property",
                  "type": "string"
                },
                "placeholder": {},
                "style": {
                  "properties": {
                    "background": {
                      "description": "background color",
                      "format": "color",
                      "type": "string"
                    }
                  }
                }
              }
            },
            "style": {
              "$ref": "#/definitions/style"
            },
            "title": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "$ref": "#/definitions/advancedTitle"
                }
              ]
            }
          }
        },
        "layers": {},
        "sections": {},
        "style": {
          "properties": {
            "background": {
              "description": "setting the background of the view",
              "oneOf": [
                {
                  "format": "color",
                  "title": "color",
                  "type": "string"
                },
                {
                  "$ref": "#/definitions/imgUrl",
                  "title": "img url"
                }
              ]
            },
            "border": {
              "description": "setting the border color for section items",
              "oneOf": [
                {
                  "enum": ["none"],
                  "required": ["none"],
                  "title": "none",
                  "type": "string"
                },
                {
                  "format": "color",
                  "required": ["color"],
                  "title": "border color",
                  "type": "string"
                }
              ]
            }
          }
        }
      },
      "type": "object"
    },
    "head": {
      "description": "The head contains a set of metadata that doesn't get displayed directly",
      "properties": {
        "actions": {
          "additionalProperties": {
            "$ref": "#/definitions/action"
          },
          "type": "object"
        },
        "data": {},
        "description": {
          "type": "string"
        },
        "icon": {
          "$ref": "#/definitions/imgUrl"
        },
        "offline": {
          "type": "boolean"
        },
        "styles": {
          "additionalProperties": {
            "$ref": "#/definitions/style"
          },
          "type": "object"
        },
        "templates": {},
        "title": {
          "type": "string"
        }
      },
      "type": "object"
    }
  },
  "title": "$jason",
  "type": "object"
}
