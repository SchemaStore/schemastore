{
  "$id": "https://json.schemastore.org/anywork-ac-1.0.json",
  "$schema": "http://json-schema.org/draft-07/schema",
  "additionalProperties": true,
  "allOf": [
    {
      "if": {
        "properties": {
          "ctype": {
            "const": "swagger-codegen"
          }
        }
      },
      "then": {
        "properties": {
          "swagger-codegen": {
            "additionalProperties": false,
            "description": "swagger-codegen Configuration",
            "properties": {
              "schemas": {
                "description": "List of schemas (microservices) to generate it's libraries.",
                "items": {
                  "additionalProperties": false,
                  "properties": {
                    "actions": {
                      "description": "Determines the actions should be applied over this schema.",
                      "items": {
                        "anyOf": [
                          {
                            "additionalProperties": false,
                            "description": "Defines a download schema task.",
                            "properties": {
                              "disable": {
                                "$ref": "#/definitions/disable"
                              },
                              "id": {
                                "default": 0,
                                "description": "A unique specific ID of this download to be referenced (`DOWNLOAD_ID`).",
                                "type": "number"
                              },
                              "sourceUrl": {
                                "description": "Source of `swagger.json` schema to download",
                                "examples": [
                                  "http://somewhere/path/to/swagger.json"
                                ],
                                "pattern": "http[s]?:\\/\\/.*\\/swagger\\.json",
                                "type": "string"
                              },
                              "type": {
                                "const": "download",
                                "description": "Type of action to apply.",
                                "type": "string"
                              }
                            },
                            "required": ["type", "sourceUrl", "id"],
                            "type": "object"
                          },
                          {
                            "additionalProperties": true,
                            "description": "Defines a TS code generator task.",
                            "properties": {
                              "disable": {
                                "$ref": "#/definitions/disable"
                              },
                              "downloadId": {
                                "default": 0,
                                "description": "The `DOWNLOAD_ID` of downloaded schema to generate codes based on.",
                                "type": "number"
                              },
                              "id": {
                                "default": 0,
                                "description": "A unique specific ID of this generation to be referenced (`GENERATE_ID`).",
                                "type": "number"
                              },
                              "ngVersion": {
                                "$ref": "#/definitions/version",
                                "default": "12.2.14",
                                "description": "Specifies Angular version which codes will be generated for."
                              },
                              "type": {
                                "const": "generate",
                                "description": "Type of action to apply.",
                                "type": "string"
                              }
                            },
                            "required": [
                              "type",
                              "ngVersion",
                              "id",
                              "downloadId"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "description": "Defines a code correction task.",
                            "properties": {
                              "disable": {
                                "$ref": "#/definitions/disable"
                              },
                              "generateId": {
                                "$ref": "#/definitions/generateId"
                              },
                              "type": {
                                "const": "correction",
                                "description": "Type of action to apply.",
                                "type": "string"
                              }
                            },
                            "required": ["type", "generateId"],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "description": "Defines a TS code builder task.",
                            "properties": {
                              "disable": {
                                "$ref": "#/definitions/disable"
                              },
                              "generateId": {
                                "$ref": "#/definitions/generateId"
                              },
                              "id": {
                                "description": "A unique specific ID of this build to be referenced (`BUILD_ID`).",
                                "type": "number"
                              },
                              "type": {
                                "const": "build",
                                "description": "Type of action to apply.",
                                "type": "string"
                              },
                              "typescriptVersion": {
                                "$ref": "#/definitions/version",
                                "default": "4.3.5",
                                "description": "Specifies TypeScript version to install before build."
                              }
                            },
                            "required": [
                              "type",
                              "typescriptVersion",
                              "id",
                              "generateId"
                            ],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "description": "Defines a `npm publish` task.",
                            "properties": {
                              "buildId": {
                                "$ref": "#/definitions/buildId"
                              },
                              "disable": {
                                "$ref": "#/definitions/disable"
                              },
                              "id": {
                                "default": 0,
                                "description": "A unique specific ID of this publish to be referenced (`PUBLISH_ID`).",
                                "type": "number"
                              },
                              "registryUrl": {
                                "default": "http://verdaccio.anywork.local:4873",
                                "description": "The Url of registry accepting this respository.",
                                "pattern": "http[s]?://.*",
                                "type": "string"
                              },
                              "token": {
                                "default": "bzKaK7hK2OAoCK9d72S0UevXGZEjj8rZpv8AFoaZ+/w=",
                                "description": "Token to use access registry.",
                                "examples": [
                                  "bzKaK7hK2OAoCK9d72S0UevXGZEjj8rZpv8AFoaZ+/w="
                                ],
                                "type": "string"
                              },
                              "type": {
                                "const": "publish",
                                "description": "Type of action to apply.",
                                "type": "string"
                              }
                            },
                            "required": ["type", "registryUrl", "token", "id"],
                            "type": "object"
                          },
                          {
                            "additionalProperties": false,
                            "description": "Defines a Api install task.",
                            "properties": {
                              "disable": {
                                "$ref": "#/definitions/disable"
                              },
                              "publishId": {
                                "default": 0,
                                "description": "The `PUBLISH_ID` to use for this task.",
                                "type": "number"
                              },
                              "targetPath": {
                                "description": "The relative or absolute physical path of directory containing `packages.json` to install specified",
                                "type": "string"
                              },
                              "type": {
                                "const": "install",
                                "description": "Type of action to apply.",
                                "type": "string"
                              }
                            },
                            "required": ["type", "targetPath", "publishId"],
                            "type": "object"
                          }
                        ]
                      },
                      "type": "array",
                      "uniqueItems": true
                    },
                    "disable": {
                      "default": true,
                      "description": "Disables all actions over this schema.",
                      "type": "boolean"
                    },
                    "name": {
                      "description": "Name of schema. This will be used to generate codes, only `[a-zA-Z]+` is accepted.",
                      "examples": ["authorization"],
                      "pattern": "[a-zA-Z]+",
                      "type": "string"
                    }
                  },
                  "required": ["name", "actions"],
                  "type": "object"
                },
                "type": "array"
              }
            },
            "required": ["schemas"],
            "type": "object"
          }
        },
        "required": ["swagger-codegen"]
      }
    }
  ],
  "definitions": {
    "buildId": {
      "default": 0,
      "description": "The `BUILD_ID` to use for this task.",
      "type": "number"
    },
    "disable": {
      "default": true,
      "description": "Determines if this task is disabled.",
      "type": "boolean"
    },
    "generateId": {
      "default": 0,
      "description": "The `GENERATE_ID` to use for this task.",
      "type": "number"
    },
    "version": {
      "pattern": "^[\\^~]?(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"
    }
  },
  "description": "Used to configure any part of AnyWork automation.",
  "properties": {
    "ctype": {
      "description": "type of configuration, means who will use this configuration.",
      "type": "string"
    },
    "cversion": {
      "default": 1,
      "description": "Version of configuration. The reader will parse configuration based on this.",
      "type": "integer"
    }
  },
  "required": ["ctype", "cversion"],
  "title": "AnyWork Automation Configuration schema",
  "type": "object"
}
