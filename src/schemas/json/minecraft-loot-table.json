{
  "$comment": "https://minecraft.fandom.com/wiki/Loot_table",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "numberProvider": {
      "$comment": "https://minecraft.fandom.com/wiki/Loot_table#Number_Providers",
      "allOf": [
        {
          "if": {
            "properties": {
              "type": {
                "const": "minecraft:constant"
              }
            }
          },
          "then": {
            "description": "A constant value.",
            "properties": {
              "value": {
                "description": "The exact value.",
                "title": "Value",
                "type": "number"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "minecraft:uniform"
              }
            }
          },
          "then": {
            "description": "A random number following a uniform distribution between two values (inclusive).",
            "properties": {
              "max": {
                "$ref": "#/definitions/numberProvider",
                "description": "The maximum value.",
                "title": "Max",
                "type": ["number", "object"]
              },
              "min": {
                "$ref": "#/definitions/numberProvider",
                "description": "The minimum value.",
                "title": "Minimum",
                "type": ["number", "object"]
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "minecraft:binomial"
              }
            }
          },
          "then": {
            "description": "A random number following a binomial distribution.",
            "properties": {
              "n": {
                "$ref": "#/definitions/numberProvider",
                "description": "The amount of trials.",
                "title": "n",
                "type": ["integer", "object"]
              },
              "p": {
                "$ref": "#/definitions/numberProvider",
                "description": "The probability of success on an individual trial.",
                "title": "p"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "type": {
                "const": "minecraft:score"
              }
            }
          },
          "then": {
            "description": "A scoreboard value.",
            "properties": {
              "scale": {
                "description": "Scale to multiply the score before returning it.",
                "title": "Scale",
                "type": "number"
              },
              "score": {
                "description": "The scoreboard objective.",
                "title": "Score",
                "type": "string"
              },
              "target": {
                "allOf": [
                  {
                    "if": {
                      "properties": {
                        "type": {
                          "const": "fixed"
                        }
                      }
                    },
                    "then": {
                      "properties": {
                        "name": {
                          "description": "A UUID or player name.",
                          "title": "Name",
                          "type": "string"
                        }
                      }
                    }
                  },
                  {
                    "if": {
                      "properties": {
                        "type": {
                          "const": "context"
                        }
                      }
                    },
                    "then": {
                      "properties": {
                        "target": {
                          "enum": [
                            "this",
                            "killer",
                            "direct_killer",
                            "player_killer"
                          ],
                          "title": "Target",
                          "type": "string"
                        }
                      }
                    }
                  }
                ],
                "description": "Scoreboard name provider.",
                "enum": ["this", "killer", "direct_killer", "player_killer"],
                "properties": {
                  "type": {
                    "description": "Resource location.",
                    "enum": ["fixed", "context"],
                    "title": "Type",
                    "type": "string"
                  }
                },
                "title": "Target",
                "type": ["string", "object"]
              }
            }
          }
        }
      ],
      "properties": {
        "type": {
          "description": "The number provider type.",
          "enum": [
            "minecraft:constant",
            "minecraft:uniform",
            "minecraft:binomial",
            "minecraft:score"
          ],
          "title": "Type",
          "type": "string"
        }
      }
    }
  },
  "description": "Configuration file defining a loot table for a data pack for Minecraft.",
  "properties": {
    "functions": {
      "description": " Applies functions to all item stacks produced by this table. Functions are applied in order, so for example looting_enchant must be after set_count to work correctly.",
      "items": {
        "additionalProperties": {
          "description": "A function.",
          "properties": {
            "conditions": {
              "description": "Determines conditions for this function to be applied. If multiple conditions are specified, all must pass.",
              "items": {
                "additionalProperties": {
                  "description": "A function.",
                  "properties": {
                    "condition": {
                      "description": "Namespaced ID of condition.",
                      "title": "Condition",
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "type": "object"
              },
              "title": "Conditions",
              "type": "array"
            },
            "function": {
              "description": "Namespaced ID of the function to apply.",
              "title": "Function",
              "type": "string"
            }
          },
          "type": "object"
        },
        "type": "object"
      },
      "title": "Functions",
      "type": "array"
    },
    "pools": {
      "description": "A list of all pools for this loot table. Each pool used generates items from its list of items based on the number of rolls. Pools are applied in order.",
      "items": {
        "description": "A pool.",
        "properties": {
          "bonus_rolls": {
            "$ref": "#/definitions/numberProvider",
            "description": "Specifies the number of bonus rolls on the pool per point of luck. Rounded down after multiplying.",
            "title": "Bonus Rolls",
            "type": ["number", "object"]
          },
          "conditions": {
            "description": "Determines conditions for this pool to be used. If multiple conditions are specified, all must pass.",
            "items": {
              "additionalProperties": {
                "description": "A condition.",
                "properties": {
                  "condition": {
                    "description": "Namespaced ID of condition.",
                    "title": "Condition",
                    "type": "string"
                  }
                }
              },
              "type": "object"
            },
            "title": "Conditions",
            "type": "array"
          },
          "entries": {
            "description": "A list of all things that can be produced by this pool. One entry is chosen per roll as a weighted random selection from all entries without failing conditions.",
            "items": {
              "description": "An entry.",
              "properties": {
                "children": {
                  "title": "Children",
                  "type": "array"
                },
                "conditions": {
                  "description": "Determines conditions for this entry to be used. If multiple conditions are specified, all must pass.",
                  "items": {
                    "additionalProperties": {
                      "description": "A condition.",
                      "properties": {
                        "condition": {
                          "description": "Namespaced ID of condition.",
                          "title": "Condition",
                          "type": "string"
                        }
                      }
                    },
                    "type": "object"
                  },
                  "title": "Conditions",
                  "type": "array"
                },
                "expand": {
                  "description": "For type 'tag', if set to true, it chooses one item of the tag, each with the same weight and quality. If false, it generates one of each of the items in the tag.",
                  "title": "Expand",
                  "type": "boolean"
                },
                "functions": {
                  "description": "Applies functions to the item stack or item stacks being produced. Functions are applied in order, so for example looting_enchant must be after set_count to work correctly.",
                  "items": {
                    "additionalProperties": {
                      "description": "A function.",
                      "properties": {
                        "conditions": {
                          "description": "Determines conditions for this function to be applied. If multiple conditions are specified, all must pass.",
                          "items": {
                            "description": "A condition.",
                            "properties": {
                              "condition": {
                                "description": "Namespaced ID of condition.",
                                "title": "Condition",
                                "type": "string"
                              }
                            },
                            "type": "object"
                          },
                          "title": "Conditions",
                          "type": "array"
                        },
                        "function": {
                          "description": "Namespaced ID of the function to apply.",
                          "title": "Function",
                          "type": "string"
                        }
                      }
                    },
                    "type": "object"
                  },
                  "title": "Functions",
                  "type": "array"
                },
                "name": {
                  "title": "Name",
                  "type": "string"
                },
                "quality": {
                  "description": "Modifies the entry's weight based on the killing/opening/fishing player's luck attribute. Formula is floor( weight + (quality * generic.luck)).",
                  "title": "Quality",
                  "type": "integer"
                },
                "type": {
                  "description": "Namespaced ID type of entry.",
                  "enum": [
                    "minecraft:item",
                    "minecraft:tag",
                    "minecraft:loot_table",
                    "minecraft:group",
                    "minecraft:alternatives",
                    "minecraft:sequence",
                    "minecraft:dynamic",
                    "minecraft:empty"
                  ],
                  "title": "Type",
                  "type": "string"
                },
                "weight": {
                  "description": "Determines how often this entry is chosen out of all the entries in the pool. Entries with higher weights are used more often (chance is this entry's weight⁄total of all considered entries' weights).",
                  "title": "Weight",
                  "type": "integer"
                }
              },
              "type": "object"
            },
            "title": "Entries",
            "type": "array"
          },
          "functions": {
            "description": "Applies functions to all item stacks produced by this pool. Functions are applied in order, so for example looting_enchant must be after set_count to work correctly.",
            "items": {
              "additionalProperties": {
                "description": "A function.",
                "properties": {
                  "conditions": {
                    "description": "Determines conditions for this function to be applied. If multiple conditions are specified, all must pass.",
                    "items": {
                      "description": "A condition.",
                      "properties": {
                        "condition": {
                          "description": "Namespaced ID of condition.",
                          "title": "Condition",
                          "type": "string"
                        }
                      },
                      "type": "object"
                    },
                    "title": "Conditions",
                    "type": "array"
                  },
                  "function": {
                    "description": "Namespaced ID of the function to apply.",
                    "title": "Function",
                    "type": "string"
                  }
                }
              },
              "type": "object"
            },
            "title": "Functions",
            "type": "array"
          },
          "rolls": {
            "$ref": "#/definitions/numberProvider",
            "description": "Specifies the number of rolls on the pool.",
            "title": "Rolls",
            "type": ["integer", "object"]
          }
        },
        "type": "object"
      },
      "title": "Pools",
      "type": "array"
    },
    "type": {
      "enum": [
        "minecraft:empty",
        "empty",
        "minecraft:entity",
        "entity",
        "minecraft:block",
        "block",
        "minecraft:chest",
        "chest",
        "minecraft:fishing",
        "fishing",
        "minecraft:gift",
        "gift",
        "minecraft:advancement_reward",
        "advancement_reward",
        "minecraft:barter",
        "barter",
        "minecraft:command",
        "command",
        "minecraft:selector",
        "selector",
        "minecraft:advancement_entity",
        "advancement_entity",
        "minecraft:generic",
        "generic"
      ],
      "title": "Type",
      "type": "string"
    }
  },
  "title": "Minecraft Data Pack Loot Table"
}
