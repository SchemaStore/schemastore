{
  "$comment": "https://lgtm.com/help/lgtm/lgtm.yml-configuration-file",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "definitions": {
    "queryItem": {
      "title": "query",
      "type": "object",
      "properties": {
        "id": {
          "title": "id",
          "description": "Use to identify a specific query whose results you want to include or exclude from display on LGTM.",
          "type": "string"
        },
        "severity": {
          "title": "severity",
          "description": "Use to specify a single level of severity (error, warning or recommendation) for queries whose results you want to include or exclude from display.",
          "type": "string"
        },
        "tags": {
          "title": "tags",
          "description": "Use to specify one or more tags for queries whose results you want to include or exclude from display.",
          "type": "array",
          "items": {
            "title": "tag",
            "type": "string"
          }
        }
      }
    }
  },
  "description": "Configuration file for lgtm, for continuous security analysis.",
  "properties": {
    "path_classifiers": {
      "title": "path classifiers",
      "description": "Defines the tag that you want to modify. Usually this is a built-in tag, but you can define your own tags.",
      "type": "object",
      "additionalProperties": {
        "description": "Classify files on this path with the parent tag.",
        "type": "array",
        "items": {
          "type": ["string", "object"],
          "properties": {
            "exclude": {
              "title": "exclude",
              "description": "Do not classify files on this path with the parent tag.",
              "type": "string"
            }
          }
        }
      }
    },
    "queries": {
      "title": "queries",
      "type": ["array", "null"],
      "items": {
        "title": "query",
        "properties": {
          "exclude": {
            "title": "exclude",
            "description": "Hide the results for queries with the specified properties.",
            "$ref": "#/definitions/queryItem"
          },
          "include": {
            "title": "include",
            "description": "Show the results for queries with the specified properties.",
            "$ref": "#/definitions/queryItem"
          }
        }
      }
    },
    "extraction": {
      "title": "extraction",
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "prepare": {
            "title": "prepare",
            "description": "Customizable step used by all languages.",
            "type": "object",
            "properties": {
              "packages": {
                "title": "packages",
                "description": "One or more packages to install.",
                "type": "array",
                "items": {
                  "title": "package",
                  "type": "string"
                }
              }
            }
          },
          "after_prepare": {
            "title": "after prepare",
            "description": "Customizable step used by all languages.",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "before_index": {
            "title": "before index",
            "description": "Customizable step used by all languages.",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "index": {
            "title": "index",
            "description": "Customizable step used by all languages.",
            "type": "object",
            "properties": {
              "all_solutions": {
                "title": "all solutions",
                "description": "Specify that all project or solution files should be used for extraction.",
                "type": "boolean",
                "default": false
              },
              "build_command": {
                "title": "build command",
                "type": ["array", "string"],
                "items": {
                  "type": "string"
                }
              },
              "buildless": {
                "title": "buildless",
                "description": "Specify whether or not to extract the codebase without building the code.",
                "type": "boolean",
                "default": false
              },
              "dotnet": {
                "title": ".net",
                "type": "object",
                "properties": {
                  "arguments": {
                    "title": "arguments",
                    "description": "Specify a list of additional arguments to dotnet build.",
                    "type": "array",
                    "items": {
                      "title": "argument",
                      "type": "string"
                    },
                    "default": []
                  },
                  "version": {
                    "title": "version",
                    "description": "Specify the version of the .NET Core SDK to use.",
                    "type": "string"
                  }
                }
              },
              "exclude": {
                "title": "exclude",
                "description": "Specify a list of files and folders to exclude from extraction. Each path is specified by defining paths relative to LGTM_SRC.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "filetypes": {
                "title": "filetypes",
                "description": "Specify additional file types to extract.",
                "additionalProperties": {
                  "type": "string"
                }
              },
              "gradle": {
                "title": "gradle",
                "type": "object",
                "properties": {
                  "version": {
                    "title": "version",
                    "type": ["string", "number"]
                  }
                }
              },
              "include": {
                "title": "include",
                "description": "Specify a list of files and folders to scan for files to extract.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "java_version": {
                "title": "java version",
                "description": "Specify the Java version required to build the project.",
                "type": ["string", "number"]
              },
              "maven": {
                "title": "maven",
                "description": "Specify Maven settings to use by specifying one or more of the maven subproperties detailed below.",
                "type": "object",
                "properties": {
                  "settings_file": {
                    "title": "settings file",
                    "description": "Specify the path (absolute or relative) of a Maven settings file to use.",
                    "type": "string"
                  },
                  "toolchains_file": {
                    "title": "toolchains file",
                    "description": "Specify the path of a Maven toolchains file to use.",
                    "type": "string"
                  },
                  "version": {
                    "title": "version",
                    "description": "Specify the required Maven version.",
                    "type": ["string", "number"]
                  }
                }
              },
              "msbuild": {
                "title": "msbuild",
                "type": "object",
                "properties": {
                  "arguments": {
                    "title": "arguments",
                    "description": "Specify a list of additional arguments to MSBuild.",
                    "type": "array",
                    "items": {
                      "title": "argument",
                      "type": "string"
                    }
                  },
                  "configuration": {
                    "title": "configuration",
                    "description": "Specify the MSBuild configuration to use, for example, debug or release.",
                    "type": "string"
                  },
                  "platform": {
                    "title": "platform",
                    "description": "Specify the platform to target, for example: x86, x64, or Any CPU.",
                    "type": "string"
                  },
                  "target": {
                    "title": "target",
                    "description": "Specify the MSBuild target.",
                    "type": "string",
                    "default": "rebuild"
                  }
                }
              },
              "nuget_restore": {
                "title": "nuget restore",
                "description": "Specify whether or not to perform a NuGet restore for extraction.",
                "type": "boolean",
                "default": true
              },
              "properties_files": {
                "title": "properties files",
                "description": "Specify whether .properties files are extracted.",
                "type": "boolean",
                "default": false
              },
              "solution": {
                "title": "solution",
                "description": "Specify a list of one or more project or solution files for extraction.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "typescript": {
                "title": "typescript",
                "description": "pecify how TypeScript files should be extracted.",
                "enum": ["none", "basic", "full"],
                "default": "full"
              },
              "xml_mode": {
                "title": "xml mode",
                "description": "Specify how XML files should be extracted.",
                "enum": ["all", "default", "disabled"]
              }
            }
          },
          "configure": {
            "title": "configure",
            "description": "Customizable step used only by C/C++ extraction.",
            "type": "object",
            "properties": {
              "command": {
                "title": "command",
                "description": "Override the default process by specifying a list of commands to run to generate the build configuration.",
                "type": ["array", "null"],
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "python_setup": {
            "title": "python setup",
            "description": "This step is used only by Python blocks. It sets up the Python interpreter and virtual environment, ready for the index step to extract the codebase.",
            "type": "object",
            "properties": {
              "exclude_requirements": {
                "title": "exclude requirements",
                "description": "Specify packages to exclude from extraction/analysis.",
                "type": "array",
                "items": {
                  "title": "package",
                  "type": "string"
                }
              },
              "requirements": {
                "title": "requirements",
                "description": "Specify a list of pip packages to install. If any of these packages cannot be installed, the extraction will fail.",
                "type": "array",
                "items": {
                  "title": "package",
                  "type": "string"
                }
              },
              "requirements_files": {
                "title": "requirement files",
                "description": "Specify a list of requirements text files to use to set up the environment, or false for none.",
                "type": ["array", "boolean"],
                "items": {
                  "type": "string"
                }
              },
              "setup_py": {
                "title": "setup python",
                "description": "Specify a setup.py file to use to set up the environment, or false for none.",
                "type": "string"
              },
              "version": {
                "title": "version",
                "description": "Override the version of the Python interpreter used for setup and extraction.",
                "type": ["string", "number"],
                "default": 3
              }
            }
          }
        }
      }
    }
  },
  "type": "object"
}
