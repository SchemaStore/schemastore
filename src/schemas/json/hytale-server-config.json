{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://json.schemastore.org/hytale-server-config.json",
  "$defs": {
    "LogLevels": {
      "type": "string",
      "enum": [ "SEVERE", "WARNING", "INFO", "CONFIG", "FINE", "FINER", "FINEST", "ALL", "OFF" ]
    }
  },
  "title": "Hytale Server Config",
  "description": "The config file for Hytale servers",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "Version": {
      "description": "The autogenerated config version number for migration purposes",
      "type": "integer",
      "default": 3
    },
    "ServerName": {
      "description": "Display name for your server you will see in the welcome message or server lists",
      "type": "string",
      "default": "Hytale Server"
    },
    "MOTD": {
      "description": "Message of the day shown to players after connect",
      "type": "string",
      "default": ""
    },
    "Password": {
      "description": "Server password (empty for no password)",
      "type": "string",
      "default": ""
    },
    "MaxPlayers": {
      "description": "Maximum concurrent players",
      "type": "integer",
      "default": 100
    },
    "MaxViewRadius": {
      "description": "Maximum view radius in chunks player will see",
      "type": "integer",
      "default": 32
    },
    "Defaults": {
      "description": "The default world and game mode settings",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "World": {
          "description": "The default world directory in universe/worlds",
          "type": "string",
          "default": "default"
        },
        "GameMode": {
          "description": "The default Game Mode",
          "type": "string",
          "enum": [ "Adventure", "Creative" ],
          "enumDescriptions": [
            "The default adventure mode",
            "The Creative mode"
          ],
          "default": "Adventure"
        }
      },
      "required": [ "World", "GameMode" ]
    },
    "ConnectionTimeouts": {
      "description": "Connection timeout settings",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "InitialTimeout": {
          "description": "Initial connection timeout",
          "type": "string",
          "format": "duration",
          "default": "PT10S"
        },
        "AuthTimeout": {
          "description": "Authentication timeout ",
          "type": "string",
          "format": "duration",
          "default": "PT30S"
        },
        "PlayTimeout": {
          "description": "Play session timeout",
          "type": "string",
          "format": "duration",
          "default": "PT1M"
        },
        "JoinTimeouts": {
          "description": "Custom per-context join timeouts",
          "type": "object",
          "default": {}
        }
      }
    },
    "RateLimit": {
      "description": "Packet flooding protection",
      "type": "object",
      "properties": {
        "Enabled": {
          "description": "Enable or disable packet flooding protection",
          "type": "boolean",
          "default": true
        },
        "PacketsPerSecond": {
          "description": "Max packets per second",
          "type": "integer",
          "default": 2000
        },
        "BurstCapacity": {
          "description": "Burst capacity allowance",
          "type": "integer",
          "default": 500
        }
      }
    },
    "Modules": {
      "description": "Server modules",
      "type": "object",
      "properties": {
        "PathPlugin": {
          "description": "",
          "type": "object",
          "properties": {
            "Modules": {
              "description": "",
              "type": "object"
            }
          }
        }
      }
    },
    "LogLevels": {
      "description": "Log levels for specific loggers",
      "type": "object",
      "properties": {
        "com.hypixel.hytale.server": {
          "$ref": "#/$defs/LogLevels",
          "default": "INFO"
        },
        "com.hypixel.hytale.server.network": {
          "$ref": "#/$defs/LogLevels",
          "default": "WARNING"
        }
      },
      "additionalProperties": {
        "$ref": "#/$defs/LogLevels"
      }
    },
    "Mods": {
      "description": "Mod settings and configuration",
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "Enabled": {
            "description": "Enable or Disable the mod.",
            "type": "boolean",
            "default": true
          },
          "RequiredVersion": {
            "description": "The required game version range (e.g. ^1.0.0 or >=1.2.0)",
            "type": "string",
            "pattern": "^([~^]|>=?|<=?)?[0-9]+(\\.[0-9x*]+)*(\\s+([~^]|>=?|<=?)?[0-9]+(\\.[0-9x*]+)*)*$",
            "default": ">=1.0.0"
          }
        },
        "required": [ "Enabled", "RequiredVersion" ]
      }
    },
    "DisplayTmpTagsInStrings": {
      "description": "Enable display of <temporary> tags in strings",
      "type": "boolean",
      "default": false
    },
    "LocalCompressionEnabled": {
      "description": "Enable compression for local network",
      "type": "boolean",
      "default": false
    },
    "PlayerStorage": {
      "description": "The Player Storage configures how player data is persisted",
      "type": "object",
      "properties": {
        "Type": {
          "description": "Storage provider type",
          "type": "string",
          "enum": [ "Hytale", "Disk" ],
          "enumDescriptions": [
            "Use the default path",
            "Allows specifying a custom path"
          ],
          "default": "Hytale"
        },
        "Path": {
          "description": "Only if Type Disk is uses. Allows to specify a custom path",
          "type": "string",
          "default": "universe/players"
        }
      },
      "if": { "properties": { "Type": { "const": "Hytale" } } },
      "then": { "properties": { "Path": false } }
    },
    "AuthCredentialStore": {
      "description": "Configures how authentication credentials are stored",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Type": {
          "description": "Credential store provider type",
          "type": "string",
          "enum": [ "Memory", "Encrypted" ],
          "default": "Memory"
        },
        "Path": {
          "description": "Only if Type Encrypted is uses. Path to encrypted credentials file",
          "type": "string",
          "default": "auth.enc"
        }
      },
      "if": { "properties": { "Type": { "const": "Memory" } } },
      "then": { "properties": { "Path": false } }
    }
  },
  "required": [ "Version", "ServerName", "MOTD", "Password", "MaxPlayers", "MaxViewRadius", "Defaults", "PlayerStorage" ]
}