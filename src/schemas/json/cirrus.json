{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "fileMatch": [
    ".cirrus.yml"
  ],
  "id": "https://cirrus-ci.org/",
  "patternProperties": {
    "(.*)docker_builder": {
      "patternProperties": {
        "(.*)artifacts": {
          "properties": {
            "format": {
              "description": "Content Format.",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "path": {
              "description": "Path or pattern of artifacts.",
              "type": "string"
            },
            "paths": {
              "items": [
                {
                  "description": "Path or pattern of artifacts.",
                  "type": "string"
                }
              ],
              "type": "array"
            },
            "type": {
              "description": "Content Type.",
              "type": "string"
            }
          },
          "type": "object"
        },
        "(.*)cache": {
          "description": "Folder Cache Definition.",
          "properties": {
            "fingerprint_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ],
              "description": "Script that is used to calculate cache key."
            },
            "folder": {
              "description": "Path of a folder to cache.",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "populate_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ],
              "description": "In case of a cache miss this script will be executed."
            }
          },
          "required": [
            "folder"
          ],
          "type": "object"
        },
        "(.*)file": {
          "properties": {
            "name": {
              "type": "string"
            },
            "path": {
              "description": "Destination path.",
              "type": "string"
            },
            "variable_name": {
              "description": "Environment variable name.",
              "type": "string"
            }
          },
          "required": [
            "path",
            "variable_name"
          ],
          "type": "object"
        },
        "(.*)script": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ]
        }
      },
      "properties": {
        "alias": {
          "type": "string"
        },
        "allow_failures": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "always": {
          "description": "ALWAYS commands.",
          "patternProperties": {
            "(.*)artifacts": {
              "properties": {
                "format": {
                  "description": "Content Format.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Path or pattern of artifacts.",
                  "type": "string"
                },
                "paths": {
                  "items": [
                    {
                      "description": "Path or pattern of artifacts.",
                      "type": "string"
                    }
                  ],
                  "type": "array"
                },
                "type": {
                  "description": "Content Type.",
                  "type": "string"
                }
              },
              "type": "object"
            },
            "(.*)background_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            },
            "(.*)cache": {
              "description": "Folder Cache Definition.",
              "properties": {
                "fingerprint_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Script that is used to calculate cache key."
                },
                "folder": {
                  "description": "Path of a folder to cache.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "populate_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "In case of a cache miss this script will be executed."
                }
              },
              "required": [
                "folder"
              ],
              "type": "object"
            },
            "(.*)file": {
              "properties": {
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Destination path.",
                  "type": "string"
                },
                "variable_name": {
                  "description": "Environment variable name.",
                  "type": "string"
                }
              },
              "required": [
                "path",
                "variable_name"
              ],
              "type": "object"
            },
            "(.*)script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            }
          },
          "type": "object"
        },
        "auto_cancellation": {
          "$ref": "#/definitions/auto_cancellation",
          "description": "Boolean expression that can use environment variables."
        },
        "depends_on": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "List of task names this task depends on."
        },
        "env": {
          "$ref": "#/definitions/env",
          "description": "Map represented as an object."
        },
        "environment": {
          "$ref": "#/definitions/environment",
          "description": "Map represented as an object."
        },
        "execution_lock": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "Lock name for triggering and execution"
        },
        "experimental": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "on_failure": {
          "description": "ON_FAILURE commands.",
          "patternProperties": {
            "(.*)artifacts": {
              "properties": {
                "format": {
                  "description": "Content Format.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Path or pattern of artifacts.",
                  "type": "string"
                },
                "paths": {
                  "items": [
                    {
                      "description": "Path or pattern of artifacts.",
                      "type": "string"
                    }
                  ],
                  "type": "array"
                },
                "type": {
                  "description": "Content Type.",
                  "type": "string"
                }
              },
              "type": "object"
            },
            "(.*)background_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            },
            "(.*)cache": {
              "description": "Folder Cache Definition.",
              "properties": {
                "fingerprint_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Script that is used to calculate cache key."
                },
                "folder": {
                  "description": "Path of a folder to cache.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "populate_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "In case of a cache miss this script will be executed."
                }
              },
              "required": [
                "folder"
              ],
              "type": "object"
            },
            "(.*)file": {
              "properties": {
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Destination path.",
                  "type": "string"
                },
                "variable_name": {
                  "description": "Environment variable name.",
                  "type": "string"
                }
              },
              "required": [
                "path",
                "variable_name"
              ],
              "type": "object"
            },
            "(.*)script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            }
          },
          "type": "object"
        },
        "on_success": {
          "description": "ON_SUCCESS commands.",
          "patternProperties": {
            "(.*)artifacts": {
              "properties": {
                "format": {
                  "description": "Content Format.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Path or pattern of artifacts.",
                  "type": "string"
                },
                "paths": {
                  "items": [
                    {
                      "description": "Path or pattern of artifacts.",
                      "type": "string"
                    }
                  ],
                  "type": "array"
                },
                "type": {
                  "description": "Content Type.",
                  "type": "string"
                }
              },
              "type": "object"
            },
            "(.*)background_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            },
            "(.*)cache": {
              "description": "Folder Cache Definition.",
              "properties": {
                "fingerprint_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Script that is used to calculate cache key."
                },
                "folder": {
                  "description": "Path of a folder to cache.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "populate_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "In case of a cache miss this script will be executed."
                }
              },
              "required": [
                "folder"
              ],
              "type": "object"
            },
            "(.*)file": {
              "properties": {
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Destination path.",
                  "type": "string"
                },
                "variable_name": {
                  "description": "Environment variable name.",
                  "type": "string"
                }
              },
              "required": [
                "path",
                "variable_name"
              ],
              "type": "object"
            },
            "(.*)script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            }
          },
          "type": "object"
        },
        "only_if": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "os_version": {
          "description": "Windows version of container.",
          "enum": [
            "2019",
            "2016",
            "gcp2016",
            "1709",
            "1803"
          ]
        },
        "platform": {
          "description": "Container Platform.",
          "enum": [
            "linux",
            "windows"
          ]
        },
        "required_pr_labels": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "List of required labels on a PR."
        },
        "skip": {
          "$ref": "#/definitions/skip",
          "description": "Boolean expression that can use environment variables."
        },
        "skip_notifications": {
          "$ref": "#/definitions/skip_notifications",
          "description": "Boolean expression that can use environment variables."
        },
        "timeout_in": {
          "$ref": "#/definitions/timeout_in",
          "description": "Task timeout in minutes"
        },
        "trigger_type": {
          "$ref": "#/definitions/trigger_type",
          "description": "Trigger type"
        },
        "use_compute_credits": {
          "$ref": "#/definitions/use_compute_credits",
          "description": "Boolean expression that can use environment variables."
        }
      },
      "type": "object"
    },
    "(.*)gke_pipe": {
      "properties": {
        "alias": {
          "type": "string"
        },
        "allow_failures": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "auto_cancellation": {
          "$ref": "#/definitions/auto_cancellation",
          "description": "Boolean expression that can use environment variables."
        },
        "cluster_name": {
          "description": "GKE cluster name.",
          "type": "string"
        },
        "depends_on": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "List of task names this task depends on."
        },
        "env": {
          "$ref": "#/definitions/env",
          "description": "Map represented as an object."
        },
        "environment": {
          "$ref": "#/definitions/environment",
          "description": "Map represented as an object."
        },
        "execution_lock": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "Lock name for triggering and execution"
        },
        "experimental": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "gcp_credentials": {
          "$ref": "#/definitions/gcp_credentials"
        },
        "name": {
          "type": "string"
        },
        "namespace": {
          "description": "Kubernetes namespace to schedule CI jobs in.",
          "type": "string"
        },
        "only_if": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "required_pr_labels": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "List of required labels on a PR."
        },
        "resources": {
          "items": [
            {
              "description": "Pipe resources",
              "properties": {
                "cpu": {
                  "type": "number"
                },
                "memory": {
                  "pattern": "\\d+(G|Mb)?",
                  "type": "string"
                }
              },
              "type": "object"
            }
          ],
          "type": "array"
        },
        "skip_notifications": {
          "$ref": "#/definitions/skip_notifications",
          "description": "Boolean expression that can use environment variables."
        },
        "steps": {
          "items": [
            {
              "description": "Pipe step",
              "patternProperties": {
                "(.*)artifacts": {
                  "properties": {
                    "format": {
                      "description": "Content Format.",
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "path": {
                      "description": "Path or pattern of artifacts.",
                      "type": "string"
                    },
                    "paths": {
                      "items": [
                        {
                          "description": "Path or pattern of artifacts.",
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    },
                    "type": {
                      "description": "Content Type.",
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "(.*)cache": {
                  "description": "Folder Cache Definition.",
                  "properties": {
                    "fingerprint_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ],
                      "description": "Script that is used to calculate cache key."
                    },
                    "folder": {
                      "description": "Path of a folder to cache.",
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "populate_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ],
                      "description": "In case of a cache miss this script will be executed."
                    }
                  },
                  "required": [
                    "folder"
                  ],
                  "type": "object"
                },
                "(.*)file": {
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "path": {
                      "description": "Destination path.",
                      "type": "string"
                    },
                    "variable_name": {
                      "description": "Environment variable name.",
                      "type": "string"
                    }
                  },
                  "required": [
                    "path",
                    "variable_name"
                  ],
                  "type": "object"
                },
                "(.*)script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ]
                }
              },
              "properties": {
                "always": {
                  "description": "ALWAYS commands.",
                  "patternProperties": {
                    "(.*)artifacts": {
                      "properties": {
                        "format": {
                          "description": "Content Format.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Path or pattern of artifacts.",
                          "type": "string"
                        },
                        "paths": {
                          "items": [
                            {
                              "description": "Path or pattern of artifacts.",
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        },
                        "type": {
                          "description": "Content Type.",
                          "type": "string"
                        }
                      },
                      "type": "object"
                    },
                    "(.*)background_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    },
                    "(.*)cache": {
                      "description": "Folder Cache Definition.",
                      "properties": {
                        "fingerprint_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "Script that is used to calculate cache key."
                        },
                        "folder": {
                          "description": "Path of a folder to cache.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "populate_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "In case of a cache miss this script will be executed."
                        }
                      },
                      "required": [
                        "folder"
                      ],
                      "type": "object"
                    },
                    "(.*)file": {
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Destination path.",
                          "type": "string"
                        },
                        "variable_name": {
                          "description": "Environment variable name.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "path",
                        "variable_name"
                      ],
                      "type": "object"
                    },
                    "(.*)script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    }
                  },
                  "type": "object"
                },
                "image": {
                  "description": "Docker Image to use.",
                  "type": "string"
                },
                "on_failure": {
                  "description": "ON_FAILURE commands.",
                  "patternProperties": {
                    "(.*)artifacts": {
                      "properties": {
                        "format": {
                          "description": "Content Format.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Path or pattern of artifacts.",
                          "type": "string"
                        },
                        "paths": {
                          "items": [
                            {
                              "description": "Path or pattern of artifacts.",
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        },
                        "type": {
                          "description": "Content Type.",
                          "type": "string"
                        }
                      },
                      "type": "object"
                    },
                    "(.*)background_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    },
                    "(.*)cache": {
                      "description": "Folder Cache Definition.",
                      "properties": {
                        "fingerprint_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "Script that is used to calculate cache key."
                        },
                        "folder": {
                          "description": "Path of a folder to cache.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "populate_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "In case of a cache miss this script will be executed."
                        }
                      },
                      "required": [
                        "folder"
                      ],
                      "type": "object"
                    },
                    "(.*)file": {
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Destination path.",
                          "type": "string"
                        },
                        "variable_name": {
                          "description": "Environment variable name.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "path",
                        "variable_name"
                      ],
                      "type": "object"
                    },
                    "(.*)script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    }
                  },
                  "type": "object"
                },
                "on_success": {
                  "description": "ON_SUCCESS commands.",
                  "patternProperties": {
                    "(.*)artifacts": {
                      "properties": {
                        "format": {
                          "description": "Content Format.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Path or pattern of artifacts.",
                          "type": "string"
                        },
                        "paths": {
                          "items": [
                            {
                              "description": "Path or pattern of artifacts.",
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        },
                        "type": {
                          "description": "Content Type.",
                          "type": "string"
                        }
                      },
                      "type": "object"
                    },
                    "(.*)background_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    },
                    "(.*)cache": {
                      "description": "Folder Cache Definition.",
                      "properties": {
                        "fingerprint_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "Script that is used to calculate cache key."
                        },
                        "folder": {
                          "description": "Path of a folder to cache.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "populate_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "In case of a cache miss this script will be executed."
                        }
                      },
                      "required": [
                        "folder"
                      ],
                      "type": "object"
                    },
                    "(.*)file": {
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Destination path.",
                          "type": "string"
                        },
                        "variable_name": {
                          "description": "Environment variable name.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "path",
                        "variable_name"
                      ],
                      "type": "object"
                    },
                    "(.*)script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    }
                  },
                  "type": "object"
                }
              },
              "required": [
                "image"
              ],
              "type": "object"
            }
          ],
          "type": "array"
        },
        "timeout_in": {
          "$ref": "#/definitions/timeout_in",
          "description": "Task timeout in minutes"
        },
        "trigger_type": {
          "$ref": "#/definitions/trigger_type",
          "description": "Trigger type"
        },
        "use_compute_credits": {
          "$ref": "#/definitions/use_compute_credits",
          "description": "Boolean expression that can use environment variables."
        },
        "zone": {
          "description": "Google Cloud zone of the cluster.",
          "enum": [
            "us-west1-b",
            "us-west2-a",
            "us-west1-c",
            "us-west2-b",
            "us-west2-c",
            "europe-west1-d",
            "europe-west2-c",
            "europe-west3-b",
            "europe-west4-a",
            "europe-west3-c",
            "europe-west4-b",
            "europe-west1-b",
            "europe-west2-a",
            "europe-west1-c",
            "europe-west2-b",
            "europe-west3-a",
            "us-west1-a",
            "us-central1-a",
            "europe-west4-c",
            "us-central1-f",
            "us-central1-b",
            "us-central1-c",
            "us-east1-b",
            "us-east1-c",
            "us-east1-d",
            "us-east4-a",
            "us-east4-b",
            "us-east4-c"
          ]
        }
      },
      "type": "object"
    },
    "(.*)pipe": {
      "properties": {
        "alias": {
          "type": "string"
        },
        "allow_failures": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "auto_cancellation": {
          "$ref": "#/definitions/auto_cancellation",
          "description": "Boolean expression that can use environment variables."
        },
        "depends_on": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "List of task names this task depends on."
        },
        "env": {
          "$ref": "#/definitions/env",
          "description": "Map represented as an object."
        },
        "environment": {
          "$ref": "#/definitions/environment",
          "description": "Map represented as an object."
        },
        "execution_lock": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "Lock name for triggering and execution"
        },
        "experimental": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "only_if": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "required_pr_labels": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "List of required labels on a PR."
        },
        "resources": {
          "items": [
            {
              "description": "Pipe resources",
              "properties": {
                "cpu": {
                  "type": "number"
                },
                "memory": {
                  "pattern": "\\d+(G|Mb)?",
                  "type": "string"
                }
              },
              "type": "object"
            }
          ],
          "type": "array"
        },
        "skip_notifications": {
          "$ref": "#/definitions/skip_notifications",
          "description": "Boolean expression that can use environment variables."
        },
        "steps": {
          "items": [
            {
              "description": "Pipe step",
              "patternProperties": {
                "(.*)artifacts": {
                  "properties": {
                    "format": {
                      "description": "Content Format.",
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "path": {
                      "description": "Path or pattern of artifacts.",
                      "type": "string"
                    },
                    "paths": {
                      "items": [
                        {
                          "description": "Path or pattern of artifacts.",
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    },
                    "type": {
                      "description": "Content Type.",
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "(.*)cache": {
                  "description": "Folder Cache Definition.",
                  "properties": {
                    "fingerprint_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ],
                      "description": "Script that is used to calculate cache key."
                    },
                    "folder": {
                      "description": "Path of a folder to cache.",
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "populate_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ],
                      "description": "In case of a cache miss this script will be executed."
                    }
                  },
                  "required": [
                    "folder"
                  ],
                  "type": "object"
                },
                "(.*)file": {
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "path": {
                      "description": "Destination path.",
                      "type": "string"
                    },
                    "variable_name": {
                      "description": "Environment variable name.",
                      "type": "string"
                    }
                  },
                  "required": [
                    "path",
                    "variable_name"
                  ],
                  "type": "object"
                },
                "(.*)script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ]
                }
              },
              "properties": {
                "always": {
                  "description": "ALWAYS commands.",
                  "patternProperties": {
                    "(.*)artifacts": {
                      "properties": {
                        "format": {
                          "description": "Content Format.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Path or pattern of artifacts.",
                          "type": "string"
                        },
                        "paths": {
                          "items": [
                            {
                              "description": "Path or pattern of artifacts.",
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        },
                        "type": {
                          "description": "Content Type.",
                          "type": "string"
                        }
                      },
                      "type": "object"
                    },
                    "(.*)background_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    },
                    "(.*)cache": {
                      "description": "Folder Cache Definition.",
                      "properties": {
                        "fingerprint_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "Script that is used to calculate cache key."
                        },
                        "folder": {
                          "description": "Path of a folder to cache.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "populate_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "In case of a cache miss this script will be executed."
                        }
                      },
                      "required": [
                        "folder"
                      ],
                      "type": "object"
                    },
                    "(.*)file": {
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Destination path.",
                          "type": "string"
                        },
                        "variable_name": {
                          "description": "Environment variable name.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "path",
                        "variable_name"
                      ],
                      "type": "object"
                    },
                    "(.*)script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    }
                  },
                  "type": "object"
                },
                "image": {
                  "description": "Docker Image to use.",
                  "type": "string"
                },
                "on_failure": {
                  "description": "ON_FAILURE commands.",
                  "patternProperties": {
                    "(.*)artifacts": {
                      "properties": {
                        "format": {
                          "description": "Content Format.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Path or pattern of artifacts.",
                          "type": "string"
                        },
                        "paths": {
                          "items": [
                            {
                              "description": "Path or pattern of artifacts.",
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        },
                        "type": {
                          "description": "Content Type.",
                          "type": "string"
                        }
                      },
                      "type": "object"
                    },
                    "(.*)background_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    },
                    "(.*)cache": {
                      "description": "Folder Cache Definition.",
                      "properties": {
                        "fingerprint_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "Script that is used to calculate cache key."
                        },
                        "folder": {
                          "description": "Path of a folder to cache.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "populate_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "In case of a cache miss this script will be executed."
                        }
                      },
                      "required": [
                        "folder"
                      ],
                      "type": "object"
                    },
                    "(.*)file": {
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Destination path.",
                          "type": "string"
                        },
                        "variable_name": {
                          "description": "Environment variable name.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "path",
                        "variable_name"
                      ],
                      "type": "object"
                    },
                    "(.*)script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    }
                  },
                  "type": "object"
                },
                "on_success": {
                  "description": "ON_SUCCESS commands.",
                  "patternProperties": {
                    "(.*)artifacts": {
                      "properties": {
                        "format": {
                          "description": "Content Format.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Path or pattern of artifacts.",
                          "type": "string"
                        },
                        "paths": {
                          "items": [
                            {
                              "description": "Path or pattern of artifacts.",
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        },
                        "type": {
                          "description": "Content Type.",
                          "type": "string"
                        }
                      },
                      "type": "object"
                    },
                    "(.*)background_script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    },
                    "(.*)cache": {
                      "description": "Folder Cache Definition.",
                      "properties": {
                        "fingerprint_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "Script that is used to calculate cache key."
                        },
                        "folder": {
                          "description": "Path of a folder to cache.",
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "populate_script": {
                          "anyOf": [
                            {
                              "type": "string"
                            },
                            {
                              "items": [
                                {
                                  "type": "string"
                                }
                              ],
                              "type": "array"
                            }
                          ],
                          "description": "In case of a cache miss this script will be executed."
                        }
                      },
                      "required": [
                        "folder"
                      ],
                      "type": "object"
                    },
                    "(.*)file": {
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "path": {
                          "description": "Destination path.",
                          "type": "string"
                        },
                        "variable_name": {
                          "description": "Environment variable name.",
                          "type": "string"
                        }
                      },
                      "required": [
                        "path",
                        "variable_name"
                      ],
                      "type": "object"
                    },
                    "(.*)script": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "items": [
                            {
                              "type": "string"
                            }
                          ],
                          "type": "array"
                        }
                      ]
                    }
                  },
                  "type": "object"
                }
              },
              "required": [
                "image"
              ],
              "type": "object"
            }
          ],
          "type": "array"
        },
        "timeout_in": {
          "$ref": "#/definitions/timeout_in",
          "description": "Task timeout in minutes"
        },
        "trigger_type": {
          "$ref": "#/definitions/trigger_type",
          "description": "Trigger type"
        },
        "use_compute_credits": {
          "$ref": "#/definitions/use_compute_credits",
          "description": "Boolean expression that can use environment variables."
        }
      },
      "type": "object"
    },
    "(.*)task": {
      "description": "Cirrus CI task definition.",
      "patternProperties": {
        "(.*)artifacts": {
          "properties": {
            "format": {
              "description": "Content Format.",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "path": {
              "description": "Path or pattern of artifacts.",
              "type": "string"
            },
            "paths": {
              "items": [
                {
                  "description": "Path or pattern of artifacts.",
                  "type": "string"
                }
              ],
              "type": "array"
            },
            "type": {
              "description": "Content Type.",
              "type": "string"
            }
          },
          "type": "object"
        },
        "(.*)background_script": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ]
        },
        "(.*)cache": {
          "description": "Folder Cache Definition.",
          "properties": {
            "fingerprint_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ],
              "description": "Script that is used to calculate cache key."
            },
            "folder": {
              "description": "Path of a folder to cache.",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "populate_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ],
              "description": "In case of a cache miss this script will be executed."
            }
          },
          "required": [
            "folder"
          ],
          "type": "object"
        },
        "(.*)file": {
          "properties": {
            "name": {
              "type": "string"
            },
            "path": {
              "description": "Destination path.",
              "type": "string"
            },
            "variable_name": {
              "description": "Environment variable name.",
              "type": "string"
            }
          },
          "required": [
            "path",
            "variable_name"
          ],
          "type": "object"
        },
        "(.*)script": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ]
        }
      },
      "properties": {
        "alias": {
          "type": "string"
        },
        "allow_failures": {
          "$ref": "#/definitions/allow_failures",
          "description": "Boolean expression that can use environment variables."
        },
        "always": {
          "description": "ALWAYS commands.",
          "patternProperties": {
            "(.*)artifacts": {
              "properties": {
                "format": {
                  "description": "Content Format.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Path or pattern of artifacts.",
                  "type": "string"
                },
                "paths": {
                  "items": [
                    {
                      "description": "Path or pattern of artifacts.",
                      "type": "string"
                    }
                  ],
                  "type": "array"
                },
                "type": {
                  "description": "Content Type.",
                  "type": "string"
                }
              },
              "type": "object"
            },
            "(.*)background_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            },
            "(.*)cache": {
              "description": "Folder Cache Definition.",
              "properties": {
                "fingerprint_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Script that is used to calculate cache key."
                },
                "folder": {
                  "description": "Path of a folder to cache.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "populate_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "In case of a cache miss this script will be executed."
                }
              },
              "required": [
                "folder"
              ],
              "type": "object"
            },
            "(.*)file": {
              "properties": {
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Destination path.",
                  "type": "string"
                },
                "variable_name": {
                  "description": "Environment variable name.",
                  "type": "string"
                }
              },
              "required": [
                "path",
                "variable_name"
              ],
              "type": "object"
            },
            "(.*)script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            }
          },
          "type": "object"
        },
        "anka_instance": {
          "$ref": "#/definitions/anka_instance",
          "description": "Anka Build Cloud Virtual Machine definition."
        },
        "auto_cancellation": {
          "$ref": "#/definitions/auto_cancellation",
          "description": "Boolean expression that can use environment variables."
        },
        "aws_credentials": {
          "$ref": "#/definitions/aws_credentials"
        },
        "azure_container_instance": {
          "$ref": "#/definitions/azure_container_instance",
          "description": "Azure Container Instance definition."
        },
        "azure_credentials": {
          "$ref": "#/definitions/azure_credentials"
        },
        "container": {
          "$ref": "#/definitions/container",
          "description": "Container definition for Community Cluster."
        },
        "depends_on": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "List of task names this task depends on."
        },
        "ec2_instance": {
          "$ref": "#/definitions/ec2_instance",
          "description": "AWS EC2 definition."
        },
        "eks_container": {
          "$ref": "#/definitions/eks_container",
          "description": "EKS Container definition."
        },
        "env": {
          "$ref": "#/definitions/env",
          "description": "Map represented as an object."
        },
        "environment": {
          "$ref": "#/definitions/environment",
          "description": "Map represented as an object."
        },
        "execution_lock": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "Lock name for triggering and execution"
        },
        "experimental": {
          "$ref": "#/definitions/experimental",
          "description": "Boolean expression that can use environment variables."
        },
        "freebsd_instance": {
          "$ref": "#/definitions/freebsd_instance",
          "description": "macOS Virtual Machine definition for Community Cluster."
        },
        "gce_container": {
          "$ref": "#/definitions/gce_container",
          "description": "Google Compute Engine Virtual Machine definition."
        },
        "gce_instance": {
          "$ref": "#/definitions/gce_instance",
          "description": "Google Compute Engine Virtual Machine definition."
        },
        "gcp_credentials": {
          "$ref": "#/definitions/gcp_credentials"
        },
        "gke_container": {
          "$ref": "#/definitions/gke_container",
          "description": "Google Kubernetes Engine Container definition."
        },
        "name": {
          "type": "string"
        },
        "on_failure": {
          "description": "ON_FAILURE commands.",
          "patternProperties": {
            "(.*)artifacts": {
              "properties": {
                "format": {
                  "description": "Content Format.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Path or pattern of artifacts.",
                  "type": "string"
                },
                "paths": {
                  "items": [
                    {
                      "description": "Path or pattern of artifacts.",
                      "type": "string"
                    }
                  ],
                  "type": "array"
                },
                "type": {
                  "description": "Content Type.",
                  "type": "string"
                }
              },
              "type": "object"
            },
            "(.*)background_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            },
            "(.*)cache": {
              "description": "Folder Cache Definition.",
              "properties": {
                "fingerprint_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Script that is used to calculate cache key."
                },
                "folder": {
                  "description": "Path of a folder to cache.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "populate_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "In case of a cache miss this script will be executed."
                }
              },
              "required": [
                "folder"
              ],
              "type": "object"
            },
            "(.*)file": {
              "properties": {
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Destination path.",
                  "type": "string"
                },
                "variable_name": {
                  "description": "Environment variable name.",
                  "type": "string"
                }
              },
              "required": [
                "path",
                "variable_name"
              ],
              "type": "object"
            },
            "(.*)script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            }
          },
          "type": "object"
        },
        "on_success": {
          "description": "ON_SUCCESS commands.",
          "patternProperties": {
            "(.*)artifacts": {
              "properties": {
                "format": {
                  "description": "Content Format.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Path or pattern of artifacts.",
                  "type": "string"
                },
                "paths": {
                  "items": [
                    {
                      "description": "Path or pattern of artifacts.",
                      "type": "string"
                    }
                  ],
                  "type": "array"
                },
                "type": {
                  "description": "Content Type.",
                  "type": "string"
                }
              },
              "type": "object"
            },
            "(.*)background_script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            },
            "(.*)cache": {
              "description": "Folder Cache Definition.",
              "properties": {
                "fingerprint_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Script that is used to calculate cache key."
                },
                "folder": {
                  "description": "Path of a folder to cache.",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "populate_script": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "In case of a cache miss this script will be executed."
                }
              },
              "required": [
                "folder"
              ],
              "type": "object"
            },
            "(.*)file": {
              "properties": {
                "name": {
                  "type": "string"
                },
                "path": {
                  "description": "Destination path.",
                  "type": "string"
                },
                "variable_name": {
                  "description": "Environment variable name.",
                  "type": "string"
                }
              },
              "required": [
                "path",
                "variable_name"
              ],
              "type": "object"
            },
            "(.*)script": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "items": [
                    {
                      "type": "string"
                    }
                  ],
                  "type": "array"
                }
              ]
            }
          },
          "type": "object"
        },
        "only_if": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "osx_instance": {
          "$ref": "#/definitions/osx_instance",
          "description": "macOS Virtual Machine definition for Community Cluster."
        },
        "required_pr_labels": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "List of required labels on a PR."
        },
        "skip": {
          "$ref": "#/definitions/skip",
          "description": "Boolean expression that can use environment variables."
        },
        "skip_notifications": {
          "$ref": "#/definitions/skip_notifications",
          "description": "Boolean expression that can use environment variables."
        },
        "timeout_in": {
          "$ref": "#/definitions/timeout_in",
          "description": "Task timeout in minutes"
        },
        "trigger_type": {
          "$ref": "#/definitions/trigger_type",
          "description": "Trigger type"
        },
        "use_compute_credits": {
          "$ref": "#/definitions/use_compute_credits",
          "description": "Boolean expression that can use environment variables."
        },
        "windows_container": {
          "$ref": "#/definitions/windows_container",
          "description": "Windows Container definition for Community Cluster."
        }
      },
      "type": "object"
    }
  },
  "properties": {
    "allow_failures": {
      "description": "Boolean expression that can use environment variables.",
      "type": "string"
    },
    "anka_instance": {
      "description": "Anka Build Cloud Virtual Machine definition.",
      "properties": {
        "access_token": {
          "pattern": "ENCRYPTED[.*]",
          "type": "string"
        },
        "controller_endpoint": {
          "description": "Anka Controller Extended endpoint.",
          "type": "string"
        },
        "tag": {
          "description": "Template tag.",
          "type": "string"
        },
        "template": {
          "description": "Anka template name.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "auto_cancellation": {
      "description": "Boolean expression that can use environment variables.",
      "type": "string"
    },
    "aws_credentials": {
      "pattern": "ENCRYPTED[.*]",
      "type": "string"
    },
    "azure_container_instance": {
      "description": "Azure Container Instance definition.",
      "properties": {
        "cpu": {
          "type": "number"
        },
        "image": {
          "description": "Docker Image.",
          "type": "string"
        },
        "memory": {
          "pattern": "\\d+(G|Mb)?",
          "type": "string"
        },
        "platform": {
          "description": "Container Platform.",
          "enum": [
            "linux",
            "windows"
          ]
        },
        "region": {
          "description": "Azure zone.",
          "enum": [
            "westus",
            "eastus"
          ]
        },
        "resource_group": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "azure_credentials": {
      "pattern": "ENCRYPTED[.*]",
      "type": "string"
    },
    "container": {
      "description": "Container definition for Community Cluster.",
      "properties": {
        "additional_containers": {
          "items": [
            {
              "description": "Additional Container definition.",
              "properties": {
                "command": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Container CMD to override."
                },
                "cpu": {
                  "type": "number"
                },
                "env": {
                  "description": "Map represented as an object.",
                  "patternProperties": {
                    ".*": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "environment": {
                  "description": "Map represented as an object.",
                  "patternProperties": {
                    ".*": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "image": {
                  "description": "Docker Image.",
                  "type": "string"
                },
                "memory": {
                  "pattern": "\\d+(G|Mb)?",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "port": {
                  "description": "Port exposed by the container.",
                  "type": "number"
                },
                "privileged": {
                  "type": "boolean"
                },
                "readiness_command": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Container readiness probe command."
                }
              },
              "required": [
                "image",
                "port"
              ],
              "type": "object"
            }
          ],
          "type": "array"
        },
        "cpu": {
          "type": "number"
        },
        "docker_arguments": {
          "description": "Arguments for Docker build",
          "type": "string"
        },
        "dockerfile": {
          "description": "Relative path to Dockerfile to build container from.",
          "type": "string"
        },
        "image": {
          "description": "Docker Image to use.",
          "type": "string"
        },
        "kvm": {
          "type": "boolean"
        },
        "memory": {
          "pattern": "\\d+(G|Mb)?",
          "type": "string"
        },
        "registry_config": {
          "$ref": "#/definitions/registry_config"
        }
      },
      "type": "object"
    },
    "ec2_instance": {
      "description": "AWS EC2 definition.",
      "properties": {
        "image": {
          "description": "AMI Image.",
          "type": "string"
        },
        "platform": {
          "description": "Image Platform.",
          "enum": [
            "freebsd",
            "linux",
            "windows",
            "solaris"
          ]
        },
        "region": {
          "description": "AWS region.",
          "enum": [
            "eu-north-1",
            "eu-west-3",
            "eu-west-2",
            "eu-west-1",
            "eu-central-1",
            "us-east-1",
            "us-east-2",
            "us-west-1",
            "us-west-2"
          ]
        },
        "type": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "eks_container": {
      "description": "EKS Container definition.",
      "properties": {
        "additional_containers": {
          "items": [
            {
              "description": "Additional Container definition.",
              "properties": {
                "command": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Container CMD to override."
                },
                "cpu": {
                  "type": "number"
                },
                "env": {
                  "description": "Map represented as an object.",
                  "patternProperties": {
                    ".*": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "environment": {
                  "description": "Map represented as an object.",
                  "patternProperties": {
                    ".*": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "image": {
                  "description": "Docker Image.",
                  "type": "string"
                },
                "memory": {
                  "pattern": "\\d+(G|Mb)?",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "port": {
                  "description": "Port exposed by the container.",
                  "type": "number"
                },
                "privileged": {
                  "type": "boolean"
                },
                "readiness_command": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Container readiness probe command."
                }
              },
              "required": [
                "image",
                "port"
              ],
              "type": "object"
            }
          ],
          "type": "array"
        },
        "cluster_name": {
          "description": "EKS cluster name.",
          "type": "string"
        },
        "cpu": {
          "type": "number"
        },
        "image": {
          "description": "Docker Image.",
          "type": "string"
        },
        "memory": {
          "pattern": "\\d+(G|Mb)?",
          "type": "string"
        },
        "namespace": {
          "description": "Kubernetes namespace to schedule CI jobs in.",
          "type": "string"
        },
        "privileged": {
          "type": "boolean"
        },
        "region": {
          "description": "AWS region.",
          "enum": [
            "eu-north-1",
            "eu-west-3",
            "eu-west-2",
            "eu-west-1",
            "eu-central-1",
            "us-east-1",
            "us-east-2",
            "us-west-1",
            "us-west-2"
          ]
        },
        "registry_config": {
          "$ref": "#/definitions/registry_config"
        },
        "use_in_memory_disk": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "env": {
      "description": "Map represented as an object.",
      "patternProperties": {
        ".*": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "environment": {
      "description": "Map represented as an object.",
      "patternProperties": {
        ".*": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "experimental": {
      "description": "Boolean expression that can use environment variables.",
      "type": "string"
    },
    "freebsd_instance": {
      "description": "macOS Virtual Machine definition for Community Cluster.",
      "properties": {
        "cpu": {
          "type": "number"
        },
        "image": {
          "description": "FreeBSD VM image.",
          "type": "string"
        },
        "image_family": {
          "description": "Image family.",
          "type": "string"
        },
        "memory": {
          "pattern": "\\d+(G|Mb)?",
          "type": "string"
        }
      },
      "type": "object"
    },
    "gce_container": {
      "description": "Google Compute Engine Virtual Machine definition.",
      "properties": {
        "additional_containers": {
          "items": [
            {
              "description": "Additional Container definition.",
              "properties": {
                "command": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Container CMD to override."
                },
                "cpu": {
                  "type": "number"
                },
                "env": {
                  "description": "Map represented as an object.",
                  "patternProperties": {
                    ".*": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "environment": {
                  "description": "Map represented as an object.",
                  "patternProperties": {
                    ".*": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "image": {
                  "description": "Docker Image.",
                  "type": "string"
                },
                "memory": {
                  "pattern": "\\d+(G|Mb)?",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "port": {
                  "description": "Port exposed by the container.",
                  "type": "number"
                },
                "privileged": {
                  "type": "boolean"
                },
                "readiness_command": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Container readiness probe command."
                }
              },
              "required": [
                "image",
                "port"
              ],
              "type": "object"
            }
          ],
          "type": "array"
        },
        "container": {
          "description": "Container image.",
          "type": "string"
        },
        "cpu": {
          "type": "number"
        },
        "disk": {
          "type": "number"
        },
        "enable_nested_virtualization": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "image_family": {
          "description": "Image family.",
          "type": "string"
        },
        "image_name": {
          "description": "Image name.",
          "type": "string"
        },
        "image_project": {
          "description": "Google Cloud project of an image.",
          "type": "string"
        },
        "memory": {
          "pattern": "\\d+(G|Mb)?",
          "type": "string"
        },
        "preemptible": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "scopes": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "Google Cloud Scopes of the VM."
        },
        "use_ssd": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "zone": {
          "description": "Google Cloud zone where to start a VM.",
          "enum": [
            "us-west1-b",
            "us-west2-a",
            "us-west1-c",
            "us-west2-b",
            "us-west2-c",
            "europe-west1-d",
            "europe-west2-c",
            "europe-west3-b",
            "europe-west4-a",
            "europe-west3-c",
            "europe-west4-b",
            "europe-west1-b",
            "europe-west2-a",
            "europe-west1-c",
            "europe-west2-b",
            "europe-west3-a",
            "us-west1-a",
            "us-central1-a",
            "europe-west4-c",
            "us-central1-f",
            "us-central1-b",
            "us-central1-c",
            "us-east1-b",
            "us-east1-c",
            "us-east1-d",
            "us-east4-a",
            "us-east4-b",
            "us-east4-c"
          ]
        }
      },
      "type": "object"
    },
    "gce_instance": {
      "description": "Google Compute Engine Virtual Machine definition.",
      "properties": {
        "cpu": {
          "type": "number"
        },
        "disk": {
          "type": "number"
        },
        "enable_nested_virtualization": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "image_family": {
          "description": "Image family.",
          "type": "string"
        },
        "image_name": {
          "description": "Image name.",
          "type": "string"
        },
        "image_project": {
          "description": "Google Cloud project of an image.",
          "type": "string"
        },
        "memory": {
          "pattern": "\\d+(G|Mb)?",
          "type": "string"
        },
        "platform": {
          "description": "VM platform.",
          "enum": [
            "freebsd",
            "linux",
            "windows",
            "solaris"
          ]
        },
        "preemptible": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "scopes": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                }
              ],
              "type": "array"
            }
          ],
          "description": "Google Cloud Scopes of the VM."
        },
        "type": {
          "description": "Machine Type.",
          "type": "string"
        },
        "use_ssd": {
          "description": "Boolean expression that can use environment variables.",
          "type": "string"
        },
        "zone": {
          "description": "Google Cloud zone where to start a VM.",
          "enum": [
            "us-west1-b",
            "us-west2-a",
            "us-west1-c",
            "us-west2-b",
            "us-west2-c",
            "europe-west1-d",
            "europe-west2-c",
            "europe-west3-b",
            "europe-west4-a",
            "europe-west3-c",
            "europe-west4-b",
            "europe-west1-b",
            "europe-west2-a",
            "europe-west1-c",
            "europe-west2-b",
            "europe-west3-a",
            "us-west1-a",
            "us-central1-a",
            "europe-west4-c",
            "us-central1-f",
            "us-central1-b",
            "us-central1-c",
            "us-east1-b",
            "us-east1-c",
            "us-east1-d",
            "us-east4-a",
            "us-east4-b",
            "us-east4-c"
          ]
        }
      },
      "type": "object"
    },
    "gcp_credentials": {
      "pattern": "ENCRYPTED[.*]",
      "type": "string"
    },
    "gke_container": {
      "description": "Google Kubernetes Engine Container definition.",
      "properties": {
        "additional_containers": {
          "items": [
            {
              "description": "Additional Container definition.",
              "properties": {
                "command": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Container CMD to override."
                },
                "cpu": {
                  "type": "number"
                },
                "env": {
                  "description": "Map represented as an object.",
                  "patternProperties": {
                    ".*": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "environment": {
                  "description": "Map represented as an object.",
                  "patternProperties": {
                    ".*": {
                      "type": "string"
                    }
                  },
                  "type": "object"
                },
                "image": {
                  "description": "Docker Image.",
                  "type": "string"
                },
                "memory": {
                  "pattern": "\\d+(G|Mb)?",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "port": {
                  "description": "Port exposed by the container.",
                  "type": "number"
                },
                "privileged": {
                  "type": "boolean"
                },
                "readiness_command": {
                  "anyOf": [
                    {
                      "type": "string"
                    },
                    {
                      "items": [
                        {
                          "type": "string"
                        }
                      ],
                      "type": "array"
                    }
                  ],
                  "description": "Container readiness probe command."
                }
              },
              "required": [
                "image",
                "port"
              ],
              "type": "object"
            }
          ],
          "type": "array"
        },
        "builder_image_name": {
          "description": "Image name.",
          "type": "string"
        },
        "builder_image_project": {
          "description": "Google Cloud project of an image used to build Docker container from Dockerfile.",
          "type": "string"
        },
        "cluster_name": {
          "description": "GKE cluster name.",
          "type": "string"
        },
        "cpu": {
          "type": "number"
        },
        "docker_arguments": {
          "description": "Arguments for Docker build",
          "type": "string"
        },
        "dockerfile": {
          "description": "Relative path to Dockerfile.",
          "type": "string"
        },
        "image": {
          "description": "Docker Image.",
          "type": "string"
        },
        "memory": {
          "pattern": "\\d+(G|Mb)?",
          "type": "string"
        },
        "namespace": {
          "description": "Kubernetes namespace to schedule CI jobs in.",
          "type": "string"
        },
        "platform": {
          "description": "Container Platform.",
          "enum": [
            "linux",
            "windows"
          ]
        },
        "privileged": {
          "type": "boolean"
        },
        "registry_config": {
          "$ref": "#/definitions/registry_config"
        },
        "use_in_memory_disk": {
          "type": "boolean"
        },
        "zone": {
          "description": "Google Cloud zone of the cluster.",
          "enum": [
            "us-west1-b",
            "us-west2-a",
            "us-west1-c",
            "us-west2-b",
            "us-west2-c",
            "europe-west1-d",
            "europe-west2-c",
            "europe-west3-b",
            "europe-west4-a",
            "europe-west3-c",
            "europe-west4-b",
            "europe-west1-b",
            "europe-west2-a",
            "europe-west1-c",
            "europe-west2-b",
            "europe-west3-a",
            "us-west1-a",
            "us-central1-a",
            "europe-west4-c",
            "us-central1-f",
            "us-central1-b",
            "us-central1-c",
            "us-east1-b",
            "us-east1-c",
            "us-east1-d",
            "us-east4-a",
            "us-east4-b",
            "us-east4-c"
          ]
        }
      },
      "type": "object"
    },
    "osx_instance": {
      "description": "macOS Virtual Machine definition for Community Cluster.",
      "properties": {
        "image": {
          "description": "macOS VM image.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "skip": {
      "description": "Boolean expression that can use environment variables.",
      "type": "string"
    },
    "skip_notifications": {
      "description": "Boolean expression that can use environment variables.",
      "type": "string"
    },
    "timeout_in": {
      "description": "Task timeout in minutes",
      "type": "number"
    },
    "trigger_type": {
      "description": "Trigger type",
      "enum": [
        "automatic",
        "manual"
      ]
    },
    "use_compute_credits": {
      "description": "Boolean expression that can use environment variables.",
      "type": "string"
    },
    "windows_container": {
      "description": "Windows Container definition for Community Cluster.",
      "properties": {
        "cpu": {
          "type": "number"
        },
        "docker_arguments": {
          "description": "Arguments for Docker build",
          "type": "string"
        },
        "dockerfile": {
          "description": "Relative path to Dockerfile to build container from.",
          "type": "string"
        },
        "image": {
          "description": "Docker Image to use.",
          "type": "string"
        },
        "memory": {
          "pattern": "\\d+(G|Mb)?",
          "type": "string"
        },
        "os_version": {
          "description": "Windows version of container.",
          "enum": [
            "2019",
            "2016",
            "gcp2016",
            "1709",
            "1803"
          ]
        }
      },
      "type": "object"
    }
  },
  "title": "JSON schema for Cirrus CI configuration files",
  "type": "object"
}
