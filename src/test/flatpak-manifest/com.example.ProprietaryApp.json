{
  "add-build-extensions": {
    "org.freedesktop.Sdk.Extension.toolchain": {
      "directory": "lib/sdk/toolchain",
      "remove-after-build": true,
      "version": "23.08"
    }
  },
  "add-extensions": {
    "com.example.ProprietaryApp.Plugin": {
      "autodelete": true,
      "directory": "lib/plugin",
      "no-autodownload": true,
      "subdirectories": true
    }
  },
  "command": "proprietary-app",
  "finish-args": [
    "--share=ipc",
    "--socket=x11",
    "--device=dri",
    "--share=network"
  ],
  "id": "com.example.ProprietaryApp",
  "modules": [
    {
      "build-commands": [
        "install -Dm755 proprietary-app /app/bin/proprietary-app"
      ],
      "buildsystem": "simple",
      "name": "proprietary-app",
      "sources": [
        {
          "filename": "proprietary-app.tar.gz",
          "installed-size": 52428800,
          "sha256": "0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef",
          "size": 10485760,
          "type": "extra-data",
          "url": "https://example.com/download/proprietary-app-1.0.tar.gz"
        }
      ]
    },
    {
      "build-commands": ["install -Dm755 helper.sh /app/bin/helper"],
      "buildsystem": "simple",
      "name": "helper-script",
      "sources": [
        {
          "contents": "#!/bin/sh\nexec proprietary-app \"$@\"\n",
          "dest-filename": "helper.sh",
          "type": "inline"
        }
      ]
    },
    {
      "build-commands": [],
      "buildsystem": "simple",
      "name": "apply-patches",
      "sources": [
        {
          "commands": ["sed -i 's/old/new/g' config.h", "chmod +x configure"],
          "type": "shell"
        }
      ]
    }
  ],
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "23.08",
  "sdk": "org.freedesktop.Sdk"
}
