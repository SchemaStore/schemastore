name: 'Maintenance: Check Broken URLs'
# on:
#   schedule:
#     - cron: '2 22 * * *' # Runs at 10:02 every day
#   push:
#   pull_request:
on: ['push', 'pull_request']

jobs:
  brokenurl:
    if: github.repository == 'SchemaStore/schemastore'
    runs-on: 'ubuntu-latest'
    steps:
      - uses: 'actions/checkout@v4'
      - uses: 'actions/setup-node@v4'
        with:
          node-version: '18'
          cache: 'npm'
          cache-dependency-path: './package-lock.json'
      - run: 'npm clean-install'
      # - run: 'node ./cli.js maintenance'
      - name: 'Update comment'
        uses: 'peter-evans/create-or-update-comment@v4'
        permissions:
          issues: 'write'
        with:
          comment-id: 2394972665
          body: |
            **Edit:** Some additional info
